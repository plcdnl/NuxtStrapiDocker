"use strict";(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[801],{93858:(z,C,t)=>{t.r(C),t.d(C,{default:()=>Bt});var e=t(67294),i=t(68547),I=t(23724),f=t(27361),Q=t.n(f);const x=JSON.parse('{"i8":"4.7.0-beta.0"}');var y=t(48474),d=t(49656),A=t(37424),M=t(99168),B=t(61080),Y=t(38914),K=t.n(Y),V=t(64729),T=t(27821),Le=t(45697),r=t.n(Le),U=t(97132),Oe=t(44034),ie=t(25896),v=t(11047),L=t(41580),J=t(7681),be=t(12028),re=t(29728),De=t(70968);const Be=(0,T.default)(v.k)`
  position: fixed;
  z-index: 4;
  inset: 0;
  /* this is theme.colors.neutral800 with opacity */
  background: ${({theme:n})=>`${n.colors.neutral800}1F`};
`,le=({onClose:n,onSkip:a,children:o,hideSkip:s})=>{const{formatMessage:p}=(0,U.useIntl)();return e.createElement(Oe.h,null,e.createElement(Be,{onClick:n,padding:8,justifyContent:"center"},e.createElement(ie.i,{onEscape:n},e.createElement(J.K,{background:"neutral0",width:(0,i.pxToRem)(660),shadow:"popupShadow",hasRadius:!0,padding:4,spacing:8,role:"dialog","aria-modal":!0,onClick:c=>c.stopPropagation()},e.createElement(v.k,{justifyContent:"flex-end"},e.createElement(be.h,{onClick:n,"aria-label":p({id:"app.utils.close-label",defaultMessage:"Close"}),icon:e.createElement(De.default,null)})),e.createElement(L.x,{paddingLeft:7,paddingRight:7,paddingBottom:s?8:0},o),!s&&e.createElement(v.k,{justifyContent:"flex-end"},e.createElement(re.z,{variant:"tertiary",onClick:a},p({id:"app.components.GuidedTour.skip",defaultMessage:"Skip the tour"})))))))};le.propTypes={children:r().node.isRequired,onClose:r().func.isRequired,onSkip:r().func.isRequired,hideSkip:r().bool.isRequired};const ke=le;var ce=t(18172);const de={stepContent:null,sectionIndex:null,stepIndex:null,hasSectionAfter:!1,hasStepAfter:!1},Ne=(n=de,a)=>(0,ce.default)(n,o=>{switch(a.type){case"UPDATE_MODAL":{o.stepContent=a.content,o.sectionIndex=a.newSectionIndex,o.stepIndex=a.newStepIndex,o.hasSectionAfter=a.newHasSectionAfter,o.hasStepAfter=a.newHasStepAfter;break}default:return o}});var O=t(75515),ue=t(37323);const Ge=T.default.li`
  list-style: disc;
  &::marker {
    color: ${({theme:n})=>n.colors.neutral800};
  }
`,pe=({id:n,defaultMessage:a})=>{const{formatMessage:o}=(0,U.useIntl)();return e.createElement(J.K,{spacing:4,paddingBottom:6},o({id:n,defaultMessage:a},{documentationLink:s=>e.createElement(O.Z,{as:"a",textColor:"primary600",target:"_blank",rel:"noopener noreferrer",href:"https://docs.strapi.io/developer-docs/latest/developer-resources/database-apis-reference/rest-api.html#api-parameters"},s),b:s=>e.createElement(O.Z,{fontWeight:"semiBold"},s),p:s=>e.createElement(O.Z,null,s),light:s=>e.createElement(O.Z,{textColor:"neutral600"},s),ul:s=>e.createElement(L.x,{paddingLeft:6},e.createElement("ul",null,s)),li:s=>e.createElement(Ge,null,s)}))};pe.propTypes={id:r().string.isRequired,defaultMessage:r().string.isRequired};const Ue=pe;var X=t(89285),We=t(96392);const w=({number:n,last:a,type:o})=>e.createElement(L.x,{paddingTop:3,paddingBottom:a?0:3},e.createElement(We.Z,{number:n,type:o}));w.defaultProps={number:void 0,last:!1,type:""},w.propTypes={number:r().number,last:r().bool,type:r().string};const me=w;var W=t(99872);const q=({title:n,content:a,cta:o,onCtaClick:s,sectionIndex:p,stepIndex:c,hasSectionAfter:g})=>{const{formatMessage:h}=(0,U.useIntl)(),E=p>0,m=c>0,R=p+1;return e.createElement(e.Fragment,null,e.createElement(v.k,{alignItems:"stretch"},e.createElement(v.k,{marginRight:8,justifyContent:"center",minWidth:(0,i.pxToRem)(30)},E&&e.createElement(X.Z,{type:W.hx,minHeight:(0,i.pxToRem)(24)})),e.createElement(O.Z,{variant:"sigma",textColor:"primary600"},h({id:"app.components.GuidedTour.title",defaultMessage:"3 steps to get started"}))),e.createElement(v.k,null,e.createElement(v.k,{marginRight:8,minWidth:(0,i.pxToRem)(30)},e.createElement(me,{number:p+1,type:m?W.hx:W.lW})),e.createElement(O.Z,{variant:"alpha",fontWeight:"bold",textColor:"neutral800",as:"h3",id:"title"},h(n))),e.createElement(v.k,{alignItems:"stretch"},e.createElement(v.k,{marginRight:8,direction:"column",justifyContent:"center",minWidth:(0,i.pxToRem)(30)},g&&e.createElement(e.Fragment,null,e.createElement(X.Z,{type:W.hx}),m&&e.createElement(me,{number:R+1,type:W.lW,last:!0}))),e.createElement(L.x,null,e.createElement(Ue,{...a}),o&&(o.target?e.createElement(i.LinkButton,{endIcon:e.createElement(ue.Z,null),onClick:s,to:o.target},h(o.title)):e.createElement(re.z,{endIcon:e.createElement(ue.Z,null),onClick:s},h(o.title))))),m&&g&&e.createElement(L.x,{paddingTop:3},e.createElement(v.k,{marginRight:8,justifyContent:"center",width:(0,i.pxToRem)(30)},e.createElement(X.Z,{type:W.hx,minHeight:(0,i.pxToRem)(24)}))))};q.defaultProps={currentStep:null,cta:void 0},q.propTypes={sectionIndex:r().number.isRequired,stepIndex:r().number.isRequired,hasSectionAfter:r().bool.isRequired,content:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired,cta:r().shape({target:r().string,title:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired})}),currentStep:r().string,onCtaClick:r().func.isRequired,title:r().shape({id:r().string.isRequired,defaultMessage:r().string.isRequired}).isRequired};const Fe=q,Ke=()=>{const{currentStep:n,guidedTourState:a,setCurrentStep:o,setStepState:s,isGuidedTourVisible:p,setSkipped:c}=(0,i.useGuidedTour)(),[g,h]=(0,e.useState)(n),[{stepContent:E,sectionIndex:m,stepIndex:R,hasSectionAfter:k,hasStepAfter:b},$]=(0,e.useReducer)(Ne,de),{trackUsage:F}=(0,i.useTracking)();(0,e.useEffect)(()=>{if(!n){h(!1);return}const[N]=K()(a,n);h(!N&&p)},[n,a,p]),(0,e.useEffect)(()=>{if(n){const[N]=K()(V.Z,n),D=Object.keys(a),[S,l]=n.split("."),G=D.indexOf(S),H=Object.keys(a[S]).indexOf(l),ae=G<D.length-1,oe=H<Object.keys(a[S]).length-1;$({type:"UPDATE_MODAL",content:N,newSectionIndex:G,newStepIndex:H,newHasSectionAfter:ae,newHasStepAfter:oe})}},[n,a]);const P=()=>{s(n,!0),F(E.trackingEvent),o(null)},Z=()=>{c(!0),o(null),F("didSkipGuidedtour")};return g&&E?e.createElement(ke,{hideSkip:!b&&!k,onSkip:Z,onClose:P},e.createElement(Fe,{...E,onCtaClick:P,currentStep:n,sectionIndex:m,stepIndex:R,hasSectionAfter:k})):null};var je=t(70004),$e=t(64330),Ze=t(37907),ze=t(98994),_=t(38040),ge=t(51974),Ve=t(45842),He=t(37227),Qe=t(56691),Ye=t(42384),Je=t(90690);const Xe=(0,T.default)(L.x)`
  width: ${150/16}rem;
  position: absolute;
  bottom: ${({theme:n})=>n.spaces[9]};
  left: ${({theme:n})=>n.spaces[5]};
`,he=(0,T.default)(d.NavLink)`
  display: flex;
  justify-content: space-between;
  align-items: center;
  text-decoration: none;
  padding: ${({theme:n})=>`${n.spaces[2]} ${n.spaces[4]}`};
  border-radius: ${({theme:n})=>n.spaces[1]};

  &:hover {
    background: ${({theme:n,logout:a})=>a?n.colors.danger100:n.colors.primary100};
    text-decoration: none;
  }

  svg {
    path {
      fill: ${({theme:n})=>n.colors.danger600};
    }
  }
`,Ee=({generalSectionLinks:n,pluginsSectionLinks:a})=>{const o=(0,e.useRef)(),[s,p]=(0,e.useState)(!1),{logos:{menu:c}}=(0,y.um)(),[g,h]=(0,i.usePersistentState)("navbar-condensed",!1),{userDisplayName:E}=(0,i.useAppInfos)(),{formatMessage:m}=(0,U.useIntl)(),{trackUsage:R}=(0,i.useTracking)(),{pathname:k}=(0,d.useLocation)(),b=(0,d.useHistory)(),{post:$}=(0,i.getFetchClient)(),F=E.split(" ").map(l=>l.substring(0,1)).join("").substring(0,2),P=()=>p(l=>!l),Z=async()=>{await $("/admin/logout"),i.auth.clearAppStorage(),P(),b.push("/auth/login")},N=l=>{!l.currentTarget.contains(l.relatedTarget)&&l.relatedTarget?.parentElement?.id!=="main-nav-user-button"&&p(!1)},D=(l=null)=>{R("willNavigate",{from:k,to:l})},S=m({id:"app.components.LeftMenu.navbrand.title",defaultMessage:"Strapi Dashboard"});return e.createElement($e.$,{condensed:g},e.createElement(Ze.D,{as:d.NavLink,workplace:m({id:"app.components.LeftMenu.navbrand.workplace",defaultMessage:"Workplace"}),title:S,icon:e.createElement("img",{src:c.custom||c.default,alt:m({id:"app.components.LeftMenu.logo.alt",defaultMessage:"Application logo"})})}),e.createElement(je.i,null),e.createElement(ze._,null,e.createElement(_.O,{as:d.NavLink,to:"/content-manager",icon:e.createElement(Ye.Z,null),onClick:()=>D("/content-manager")},m({id:"global.content-manager",defaultMessage:"Content manager"})),a.length>0?e.createElement(ge.y,{label:m({id:"app.components.LeftMenu.plugins",defaultMessage:"Plugins"})},a.map(l=>{const G=l.icon;return e.createElement(_.O,{as:d.NavLink,to:l.to,key:l.to,icon:e.createElement(G,null),onClick:()=>D(l.to)},m(l.intlLabel))})):null,n.length>0?e.createElement(ge.y,{label:m({id:"app.components.LeftMenu.general",defaultMessage:"General"})},n.map(l=>{const G=l.icon;return e.createElement(_.O,{as:d.NavLink,badgeContent:l.notificationsCount>0&&l.notificationsCount.toString()||void 0,to:l.to,key:l.to,icon:e.createElement(G,null),onClick:()=>D(l.to)},m(l.intlLabel))})):null),e.createElement(Ve.q,null,e.createElement(He.r,{id:"main-nav-user-button",ref:o,onClick:P,initials:F},E),s&&e.createElement(Xe,{onBlur:N,padding:1,shadow:"tableShadow",background:"neutral0",hasRadius:!0},e.createElement(ie.i,{onEscape:P},e.createElement(J.K,{spacing:0},e.createElement(he,{tabIndex:0,onClick:P,to:"/me"},e.createElement(O.Z,null,m({id:"global.profile",defaultMessage:"Profile"}))),e.createElement(he,{tabIndex:0,onClick:Z,logout:"logout",to:"/auth/login"},e.createElement(O.Z,{textColor:"danger600"},m({id:"app.components.LeftMenu.logout",defaultMessage:"Logout"})),e.createElement(Je.Z,null))))),e.createElement(Qe.w,{onClick:()=>h(l=>!l)},m(g?{id:"app.components.LeftMenu.expand",defaultMessage:"Expand the navbar"}:{id:"app.components.LeftMenu.collapse",defaultMessage:"Collapse the navbar"}))))};Ee.propTypes={generalSectionLinks:r().array.isRequired,pluginsSectionLinks:r().array.isRequired};const we=Ee;var qe=t(727);const _e=(0,T.default)(L.x)`
  flex: 1;
`,fe=({children:n,sideNav:a})=>{const{formatMessage:o}=(0,U.useIntl)();return e.createElement(L.x,{background:"neutral100"},e.createElement(qe.z,null,o({id:"skipToContent",defaultMessage:"Skip to content"})),e.createElement(v.k,{alignItems:"flex-start"},a,e.createElement(_e,null,n)))};fe.propTypes={children:r().node.isRequired,sideNav:r().node.isRequired};const et=fe;var ee=t(38683),tt=t(36657),u=t(28702),j=t(41363);const nt=t.p+"19eb2dfcf2603eb55733.png",at=[{label:{id:"app.components.Onboarding.link.build-content",defaultMessage:"Build a content architecture"},href:"https://www.youtube.com/watch?v=G9GjN0RxhkE",duration:"5:48"},{label:{id:"app.components.Onboarding.link.manage-content",defaultMessage:"Add & manage content"},href:"https://www.youtube.com/watch?v=DEZw4KbybAI",duration:"3:18"},{label:{id:"app.components.Onboarding.link.manage-media",defaultMessage:"Manage media"},href:"https://www.youtube.com/watch?v=-61MuiMQb38",duration:"3:41"}],ye={href:"https://www.youtube.com/playlist?list=PL7Q0DQYATmvidz6lEmwE5nIcOAYagxWqq",label:{id:"app.components.Onboarding.link.more-videos",defaultMessage:"Watch more videos"}},ot=[{label:{id:"global.documentation",defaultMessage:"documentation"},href:"https://docs.strapi.io",icon:j.Book},{label:{id:"app.static.links.cheatsheet",defaultMessage:"cheatsheet"},href:"https://strapi-showcase.s3-us-west-2.amazonaws.com/CheatSheet.pdf",icon:j.PaperPlane}],st=(0,T.default)(u.Button)`
  border-radius: 50%;
  padding: ${({theme:n})=>n.spaces[3]};
  /* Resetting 2rem height defined by Button component */
  height: 100%;
`,it=(0,T.default)(u.Flex)`
  transform: translate(-50%, -50%);
`,rt=(0,T.default)(u.Flex)`
  text-decoration: none;

  :focus-visible {
    outline-offset: ${({theme:n})=>`-${n.spaces[1]}`};
  }

  :hover {
    background: ${({theme:n})=>n.colors.primary100};

    /* Hover style for the number displayed */
    ${u.Typography}:first-child {
      color: ${({theme:n})=>n.colors.primary500};
    }

    /* Hover style for the label */
    ${u.Typography}:nth-child(1) {
      color: ${({theme:n})=>n.colors.primary600};
    }
  }
`,lt=T.default.img`
  width: ${({theme:n})=>n.spaces[10]};
  height: ${({theme:n})=>n.spaces[8]};
  /* Same overlay used in ModalLayout */
  background: ${({theme:n})=>`${n.colors.neutral800}1F`};
  border-radius: ${({theme:n})=>n.borderRadius};
`,Te=(0,T.default)(u.Typography)`
  /* line height of label and watch more to 1 so they can be better aligned visually */
  line-height: 1;
`,ve=(0,T.default)(Te)`
  text-decoration: none;

  :hover {
    text-decoration: underline;
  }
`,ct=()=>{const n=(0,e.useRef)(),[a,o]=(0,e.useState)(!1),{formatMessage:s}=(0,U.useIntl)(),p=()=>{o(c=>!c)};return e.createElement(u.Box,{as:"aside",position:"fixed",bottom:2,right:2},e.createElement(st,{"aria-label":s(a?{id:"app.components.Onboarding.help.button-close",defaultMessage:"Close help menu"}:{id:"app.components.Onboarding.help.button",defaultMessage:"Open help menu"}),onClick:p,ref:n},e.createElement(u.Icon,{as:a?j.Cross:j.Question,color:"buttonNeutral0"})),a&&e.createElement(u.Portal,null,e.createElement(u.PopoverPrimitives.Content,{padding:0,source:n,placement:"top-end",spacing:12},e.createElement(u.FocusTrap,{onEscape:p},e.createElement(u.Flex,{justifyContent:"space-between",paddingBottom:5,paddingRight:6,paddingLeft:6,paddingTop:6},e.createElement(Te,{fontWeight:"bold"},s({id:"app.components.Onboarding.title",defaultMessage:"Get started videos"})),e.createElement(ve,{as:"a",href:ye.href,target:"_blank",rel:"noreferrer noopener",variant:"pi",textColor:"primary600"},s(ye.label))),e.createElement(u.Divider,null),at.map(({href:c,duration:g,label:h},E)=>e.createElement(rt,{as:"a",href:c,target:"_blank",rel:"noreferrer noopener",key:c,hasRadius:!0,paddingTop:4,paddingBottom:4,paddingLeft:6,paddingRight:11},e.createElement(u.Box,{paddingRight:5},e.createElement(u.Typography,{textColor:"neutral200",variant:"alpha"},E+1)),e.createElement(u.Box,{position:"relative"},e.createElement(lt,{src:nt,alt:""}),e.createElement(it,{position:"absolute",top:"50%",left:"50%",background:"primary600",borderRadius:"50%",justifyContent:"center",width:6,height:6},e.createElement(u.Icon,{as:j.Play,color:"buttonNeutral0",width:3,height:3}))),e.createElement(u.Flex,{direction:"column",alignItems:"start",paddingLeft:4},e.createElement(u.Typography,{fontWeight:"bold"},s(h)),e.createElement(u.VisuallyHidden,null,":"),e.createElement(u.Typography,{textColor:"neutral600",variant:"pi"},g)))),e.createElement(u.Stack,{spacing:2,paddingLeft:5,paddingTop:2,paddingBottom:5},ot.map(({label:c,href:g,icon:h})=>e.createElement(u.Stack,{horizontal:!0,spacing:3,key:g},e.createElement(u.Icon,{as:h,color:"primary600"}),e.createElement(ve,{as:"a",href:g,target:"_blank",rel:"noreferrer noopener",variant:"sigma",textColor:"primary700"},s(c)))))))))},dt=(0,e.lazy)(()=>Promise.all([t.e(5926),t.e(63),t.e(296),t.e(994)]).then(t.bind(t,21755))),ut=(0,e.lazy)(()=>t.e(3981).then(t.bind(t,11063))),pt=(0,e.lazy)(()=>t.e(3677).then(t.bind(t,14928))),mt=(0,e.lazy)(()=>Promise.all([t.e(5926),t.e(5516)]).then(t.bind(t,82679))),Ce=(0,e.lazy)(()=>Promise.resolve().then(t.bind(t,23330))),gt=(0,e.lazy)(()=>t.e(9501).then(t.bind(t,17502))),ht=(0,e.lazy)(()=>t.e(9497).then(t.bind(t,50166))),Me=(0,e.lazy)(()=>Promise.all([t.e(5926),t.e(8761),t.e(5895)]).then(t.bind(t,10608))),Et=()=>{const{trackUsage:n}=(0,i.useTracking)(),a=(0,A.useDispatch)(),o=(0,A.useSelector)(s=>s.admin_app.status);(0,e.useEffect)(()=>{o==="init"&&(n("didAccessAuthenticatedAdministration"),a({type:tt.e}))},[o])},ft=()=>{Et();const{isLoading:n,generalSectionLinks:a,pluginsSectionLinks:o}=(0,y.H9)(),{menu:s}=(0,i.useStrapiApp)(),{showTutorials:p}=(0,y.um)(),c=(0,e.useMemo)(()=>s.filter(g=>g.Component).map(({to:g,Component:h,exact:E})=>(0,ee.ot)(h,g,E)),[s]);return n?e.createElement(i.LoadingIndicatorPage,null):e.createElement(M.DndProvider,{backend:B.PD},e.createElement(et,{sideNav:e.createElement(we,{generalSectionLinks:a,pluginsSectionLinks:o})},e.createElement(e.Suspense,{fallback:e.createElement(i.LoadingIndicatorPage,null)},e.createElement(d.Switch,null,e.createElement(d.Route,{path:"/",component:ut,exact:!0}),e.createElement(d.Route,{path:"/me",component:ht,exact:!0}),e.createElement(d.Route,{path:"/content-manager",component:dt}),c,e.createElement(d.Route,{path:"/settings/:settingId",component:Me}),e.createElement(d.Route,{path:"/settings",component:Me,exact:!0}),e.createElement(d.Route,{path:"/marketplace"},e.createElement(mt,null)),e.createElement(d.Route,{path:"/list-plugins",exact:!0},e.createElement(pt,null)),e.createElement(d.Route,{path:"/404",component:Ce}),e.createElement(d.Route,{path:"/500",component:gt}),e.createElement(d.Route,{path:"",component:Ce}))),e.createElement(Ke,null),p&&e.createElement(ct,null)))},yt=n=>({plugins:Object.keys(n).reduce((a,o)=>(a[o]={...n[o]},a),{})});var Tt=t(36968),vt=t.n(Tt);const Re={plugins:null},Ct=(n=Re,a)=>(0,ce.default)(n,o=>{switch(a.type){case"SET_PLUGIN_READY":{vt()(o,["plugins",a.pluginId,"isReady"],!0);break}default:return o}}),Mt=()=>{const{plugins:n}=(0,i.useStrapiApp)(),[{plugins:a},o]=(0,e.useReducer)(Ct,Re,()=>yt(n)),s=(0,e.useRef)(c=>{o({type:"SET_PLUGIN_READY",pluginId:c})});if(Object.keys(a).some(c=>a[c].isReady===!1)){const c=Object.keys(a).reduce((g,h)=>{const E=a[h].initializer;if(E){const m=a[h].pluginId;g.push(e.createElement(E,{key:m,setPlugin:s.current}))}return g},[]);return e.createElement(e.Fragment,null,c,e.createElement(i.LoadingIndicatorPage,null))}return e.createElement(ft,null)};var Pe=t(28344);const Rt=()=>({type:Pe.l}),Pt=n=>({type:Pe.m,permissions:n}),Se=({children:n,permissions:a,refetchPermissions:o})=>{const{allPermissions:s}=(0,A.useSelector)(c=>c.rbacProvider),p=(0,A.useDispatch)();return(0,e.useEffect)(()=>(p(Pt(a)),()=>{p(Rt())}),[a,p]),s?e.createElement(i.RBACProviderContext.Provider,{value:{allPermissions:s,refetchPermissions:o}},n):e.createElement(i.LoadingIndicatorPage,null)};Se.propTypes={children:r().element.isRequired,permissions:r().array.isRequired,refetchPermissions:r().func.isRequired};const St=Se;var It=t(11817),xt=t(81249),te=t.n(xt);const Ie=(n,a)=>!te().valid(n)||!te().valid(a)?!1:te().lt(n,a),xe=x.i8,At=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),{get:ne}=(0,i.getFetchClient)(),Lt=async n=>{try{const{data:{tag_name:a}}=await It.Z.get("https://api.github.com/repos/strapi/strapi/releases/latest");return Ie(xe,a)&&At&&n({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${a}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)}),a}catch{return xe}},Ot=async()=>{try{const{data:n,headers:a}=await ne("/admin/information");if(!a["content-type"].includes("application/json"))throw new Error("Not found");return n.data}catch(n){throw new Error(n)}},bt=async()=>{try{const{data:n,headers:a}=await ne("/admin/users/me/permissions");if(!a["content-type"].includes("application/json"))throw new Error("Not found");return n.data}catch(n){throw new Error(n)}},Dt=async()=>{try{const{data:{data:{roles:n}}}=await ne("/admin/users/me");return n}catch(n){throw new Error(n)}},Ae=x.i8,Bt=()=>{const{setGuidedTourVisibility:n}=(0,i.useGuidedTour)(),a=(0,i.useNotification)(),o=(0,e.useRef)(n),s=i.auth.getUserInfo(),p=Q()(s,"username")||(0,ee.Pp)(s.firstname,s.lastname),[c,g]=(0,e.useState)(p),[h,E]=(0,e.useState)(null),{showReleaseNotification:m}=(0,y.um)(),[{data:R,status:k},{data:b,isLoading:$},{data:F,status:P,refetch:Z,isFetched:N,isFetching:D},{data:S}]=(0,I.useQueries)([{queryKey:"app-infos",queryFn:Ot},{queryKey:"strapi-release",queryFn:()=>Lt(a),enabled:m,initialData:Ae},{queryKey:"admin-users-permission",queryFn:bt,initialData:[]},{queryKey:"user-roles",queryFn:Dt}]),l=(0,e.useMemo)(()=>Ie(Ae,b),[b]);(0,e.useEffect)(()=>{S&&S.find(({code:se})=>se==="strapi-super-admin")&&R?.autoReload&&o.current(!0)},[S,R]),(0,e.useEffect)(()=>{(async()=>{const se=await(0,ee.Qy)(s);E(se)})()},[s]);const H=$||(D&&N||k==="loading"||P==="loading"),ae=(0,e.useMemo)(()=>({...R,userId:h,latestStrapiReleaseTag:b,setUserDisplayName:g,shouldUpdateStrapi:l,userDisplayName:c}),[R,b,l,c,h]);return H?e.createElement(i.LoadingIndicatorPage,null):k==="error"?e.createElement("div",null,"error..."):e.createElement(i.AppInfosContext.Provider,{value:ae},e.createElement(St,{permissions:F,refetchPermissions:Z},e.createElement(Mt,null)))}},89285:(z,C,t)=>{t.d(C,{Z:()=>A});var e=t(67294),i=t(45697),I=t.n(i),f=t(68547),Q=t.n(f),x=t(41580),y=t(99872);const d=({type:M,...B})=>e.createElement(x.x,{width:(0,f.pxToRem)(2),height:"100%",background:M===y.VM?"neutral300":"primary500",hasRadius:!0,...B});d.defaultProps={type:y.VM},d.propTypes={type:I().oneOf([y.lW,y.hx,y.VM])};const A=d},96392:(z,C,t)=>{t.d(C,{Z:()=>Y});var e=t(67294),i=t(45697),I=t.n(i),f=t(68547),Q=t.n(f),x=t(11047),y=t(75515),d=t(52624),A=t(85018),M=t(99872);const B=({type:K,number:V})=>K===M.hx?e.createElement(x.k,{background:"primary600",padding:2,borderRadius:"50%",width:(0,f.pxToRem)(30),height:(0,f.pxToRem)(30),justifyContent:"center"},e.createElement(d.J,{as:A.Z,"aria-hidden":!0,width:(0,f.pxToRem)(16),color:"neutral0"})):K===M.lW?e.createElement(x.k,{background:"primary600",padding:2,borderRadius:"50%",width:(0,f.pxToRem)(30),height:(0,f.pxToRem)(30),justifyContent:"center"},e.createElement(y.Z,{fontWeight:"semiBold",textColor:"neutral0"},V)):e.createElement(x.k,{borderColor:"neutral500",borderWidth:"1px",borderStyle:"solid",padding:2,borderRadius:"50%",width:(0,f.pxToRem)(30),height:(0,f.pxToRem)(30),justifyContent:"center"},e.createElement(y.Z,{fontWeight:"semiBold",textColor:"neutral600"},V));B.defaultProps={number:void 0,type:M.VM},B.propTypes={number:I().number,type:I().oneOf([M.lW,M.hx,M.VM])};const Y=B},99872:(z,C,t)=>{t.d(C,{VM:()=>I,hx:()=>i,lW:()=>e});const e="isActive",i="isDone",I="isNotDone"},64729:(z,C,t)=>{t.d(C,{Z:()=>i});const i={contentTypeBuilder:{home:{title:{id:"app.components.GuidedTour.home.CTB.title",defaultMessage:"\u{1F9E0} Build the content structure"},cta:{title:{id:"app.components.GuidedTour.home.CTB.cta.title",defaultMessage:"Go to the Content type Builder"},type:"REDIRECT",target:"/plugins/content-type-builder"},trackingEvent:"didClickGuidedTourHomepageContentTypeBuilder"},create:{title:{id:"app.components.GuidedTour.CTB.create.title",defaultMessage:"\u{1F9E0} Create a first Collection type"},content:{id:"app.components.GuidedTour.CTB.create.content",defaultMessage:"<p>Collection types help you manage several entries, Single types are suitable to manage only one entry.</p> <p>Ex: For a Blog website, Articles would be a Collection type whereas a Homepage would be a Single type.</p>"},cta:{title:{id:"app.components.GuidedTour.CTB.create.cta.title",defaultMessage:"Build a Collection type"},type:"CLOSE"},trackingEvent:"didClickGuidedTourStep1CollectionType"},success:{title:{id:"app.components.GuidedTour.CTB.success.title",defaultMessage:"Step 1: Completed \u2705"},content:{id:"app.components.GuidedTour.CTB.success.content",defaultMessage:"<p>Good going!</p><b>\u26A1\uFE0F What would you like to share with the world?</b>"},cta:{title:{id:"app.components.GuidedTour.create-content",defaultMessage:"Create content"},type:"REDIRECT",target:"/content-manager"},trackingEvent:"didCreateGuidedTourCollectionType"}},contentManager:{home:{title:{id:"app.components.GuidedTour.home.CM.title",defaultMessage:"\u26A1\uFE0F What would you like to share with the world?"},cta:{title:{id:"app.components.GuidedTour.create-content",defaultMessage:"Create content"},type:"REDIRECT",target:"/content-manager"},trackingEvent:"didClickGuidedTourHomepageContentManager"},create:{title:{id:"app.components.GuidedTour.CM.create.title",defaultMessage:"\u26A1\uFE0F Create content"},content:{id:"app.components.GuidedTour.CM.create.content",defaultMessage:"<p>Create and manage all the content here in the Content Manager.</p><p>Ex: Taking the Blog website example further, one can write an Article, save and publish it as they like.</p><p>\u{1F4A1} Quick tip - Don't forget to hit publish on the content you create.</p>"},cta:{title:{id:"app.components.GuidedTour.create-content",defaultMessage:"Create content"},type:"CLOSE"},trackingEvent:"didClickGuidedTourStep2ContentManager"},success:{title:{id:"app.components.GuidedTour.CM.success.title",defaultMessage:"Step 2: Completed \u2705"},content:{id:"app.components.GuidedTour.CM.success.content",defaultMessage:"<p>Awesome, one last step to go!</p><b>\u{1F680}  See content in action</b>"},cta:{title:{id:"app.components.GuidedTour.CM.success.cta.title",defaultMessage:"Test the API"},type:"REDIRECT",target:"/settings/api-tokens"},trackingEvent:"didCreateGuidedTourEntry"}},apiTokens:{home:{title:{id:"app.components.GuidedTour.apiTokens.create.title",defaultMessage:"\u{1F680} See content in action"},cta:{title:{id:"app.components.GuidedTour.home.apiTokens.cta.title",defaultMessage:"Test the API"},type:"REDIRECT",target:"/settings/api-tokens"},trackingEvent:"didClickGuidedTourHomepageApiTokens"},create:{title:{id:"app.components.GuidedTour.apiTokens.create.title",defaultMessage:"\u{1F680} See content in action"},content:{id:"app.components.GuidedTour.apiTokens.create.content",defaultMessage:"<p>Generate an authentication token here and retrieve the content you just created.</p>"},cta:{title:{id:"app.components.GuidedTour.apiTokens.create.cta.title",defaultMessage:"Generate an API Token"},type:"CLOSE"},trackingEvent:"didClickGuidedTourStep3ApiTokens"},success:{title:{id:"app.components.GuidedTour.apiTokens.success.title",defaultMessage:"Step 3: Completed \u2705"},content:{id:"app.components.GuidedTour.apiTokens.success.content",defaultMessage:"<p>See content in action by making an HTTP request:</p><ul><li><p>To this URL: <light>https://'<'YOUR_DOMAIN'>'/api/'<'YOUR_CT'>'</light></p></li><li><p>With the header: <light>Authorization: bearer '<'YOUR_API_TOKEN'>'</light></p></li></ul><p>For more ways to interact with content, see the <documentationLink>documentation</documentationLink>.</p>"},trackingEvent:"didGenerateGuidedTourApiTokens"}}}}}]);
