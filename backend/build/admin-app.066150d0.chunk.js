(self.webpackChunkbackend=self.webpackChunkbackend||[]).push([[5538],{95423:(k,f,e)=>{var t={"./ar.json":[53803,7958],"./ca.json":[67634,3516],"./cs.json":[67278,7519],"./de.json":[52961,6901],"./dk.json":[72259,7898],"./en.json":[49898,320],"./es.json":[86702,8367],"./eu.json":[38153,8360],"./fr.json":[10542,8006],"./gu.json":[66003,2248],"./he.json":[51574,830],"./hi.json":[16007,6332],"./hu.json":[61919,5894],"./id.json":[1354,8897],"./it.json":[57442,6817],"./ja.json":[72185,1312],"./ko.json":[92975,1377],"./ml.json":[78270,9903],"./ms.json":[16427,3025],"./nl.json":[35566,2671],"./no.json":[39217,562],"./pl.json":[2506,7846],"./pt-BR.json":[61913,9647],"./pt.json":[57786,3340],"./ru.json":[76711,123],"./sa.json":[55119,9726],"./sk.json":[19043,606],"./sv.json":[42862,9303],"./th.json":[15364,749],"./tr.json":[49394,395],"./uk.json":[88068,7403],"./vi.json":[93473,3278],"./zh-Hans.json":[23407,2553],"./zh.json":[70326,1011]};function l(o){if(!e.o(t,o))return Promise.resolve().then(()=>{var g=new Error("Cannot find module '"+o+"'");throw g.code="MODULE_NOT_FOUND",g});var E=t[o],p=E[0];return e.e(E[1]).then(()=>e.t(p,19))}l.keys=()=>Object.keys(t),l.id=95423,k.exports=l},42243:(k,f,e)=>{"use strict";e.d(f,{Z:()=>ct});var t=e(53209),l=e(68547),o=e(67294),E=e(97132),p=e(45697),g=e.n(p),y=e(41580),O=e(7681),w=e(185),q=e(11047),U=e(29728),v=e(16364),A=e(75515),Z=e(80831),C=e(36206),j=e(79690);const T=({onSubmit:$,schema:Be})=>{const{formatMessage:x}=(0,E.useIntl)();return o.createElement(C.ZP,null,o.createElement(w.o,null,o.createElement(C.bU,null,o.createElement(Z.Formik,{enableReinitialize:!0,initialValues:{email:""},onSubmit:$,validationSchema:Be,validateOnChange:!1},({values:me,errors:we,handleChange:Ye})=>o.createElement(l.Form,{noValidate:!0},o.createElement(C.sg,null,o.createElement(j.Z,null),o.createElement(y.x,{paddingTop:6,paddingBottom:7},o.createElement(A.Z,{as:"h1",variant:"alpha"},x({id:"Auth.form.button.password-recovery",defaultMessage:"Password Recovery"}))),we.errorMessage&&o.createElement(A.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},x({id:we.errorMessage,defaultMessage:"An error occurred"}))),o.createElement(O.K,{spacing:6},o.createElement(v.o,{error:we.email?x({id:we.email,defaultMessage:"This email is invalid."}):"",value:me.email,onChange:Ye,label:x({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:x({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),o.createElement(U.z,{type:"submit",fullWidth:!0},x({id:"Auth.form.button.forgot-password",defaultMessage:"Send Email"})))))),o.createElement(q.k,{justifyContent:"center"},o.createElement(y.x,{paddingTop:4},o.createElement(l.Link,{to:"/auth/login"},x({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};T.defaultProps={onSubmit:$=>$.preventDefault()},T.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};const z=T,G=()=>{const{formatMessage:$}=(0,E.useIntl)();return o.createElement(C.ZP,null,o.createElement(w.o,null,o.createElement(C.bU,null,o.createElement(C.sg,null,o.createElement(j.Z,null),o.createElement(y.x,{paddingTop:6,paddingBottom:7},o.createElement(A.Z,{as:"h1",variant:"alpha"},$({id:"app.containers.AuthPage.ForgotPasswordSuccess.title",defaultMessage:"Email sent"}))),o.createElement(A.Z,null,$({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.email",defaultMessage:"It can take a few minutes to receive your password recovery link."})),o.createElement(y.x,{paddingTop:4},o.createElement(A.Z,null,$({id:"app.containers.AuthPage.ForgotPasswordSuccess.text.contact-admin",defaultMessage:"If you do not receive this link, please contact your administrator."}))))),o.createElement(q.k,{justifyContent:"center"},o.createElement(y.x,{paddingTop:4},o.createElement(l.Link,{to:"/auth/login"},$({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))},P=()=>{const{formatMessage:$}=(0,E.useIntl)(),x=(0,l.useQuery)().get("info")||$({id:"Auth.components.Oops.text",defaultMessage:"Your account has been suspended."});return o.createElement(C.ZP,null,o.createElement(w.o,null,o.createElement(C.bU,null,o.createElement(C.sg,null,o.createElement(j.Z,null),o.createElement(y.x,{paddingTop:6,paddingBottom:7},o.createElement(A.Z,{as:"h1",variant:"alpha"},$({id:"Auth.components.Oops.title",defaultMessage:"Oops..."}))),o.createElement(A.Z,null,x),o.createElement(y.x,{paddingTop:4},o.createElement(A.Z,null,$({id:"Auth.components.Oops.text.admin",defaultMessage:"If this is a mistake, please contact your administrator."}))))),o.createElement(q.k,{justifyContent:"center"},o.createElement(y.x,{paddingTop:4},o.createElement(l.Link,{to:"/auth/login"},$({id:"Auth.link.signin",defaultMessage:"Sign in"}))))))};var re=e(27821),ke=e(27361),Oe=e.n(ke),Te=e(57557),a=e.n(Te),S=e(49656),H=e(11817),V=e(36213),ce=e(11276),fe=e(74571),X=e(94123),N=e(8934),We=e(68070);const Ct=(0,re.default)(y.x)`
  text-align: center;
`,Re=re.default.a`
  color: ${({theme:$})=>$.colors.primary600};
`,ft=(0,re.default)(v.o)`
  ::-ms-reveal {
    display: none;
  }
`,at=({authType:$,fieldsToDisable:Be,noSignin:x,onSubmit:me,schema:we})=>{const Ye=(0,l.useNotification)(),{push:Pe}=(0,S.useHistory)(),[ze,Ae]=(0,o.useState)(!1),[Ve,Je]=(0,o.useState)(!1),[Ne,Lt]=(0,o.useState)(0),[it,_e]=(0,o.useState)({}),{trackUsage:ht}=(0,l.useTracking)(),{formatMessage:ee}=(0,E.useIntl)(),Xe=(0,l.useQuery)().get("registrationToken");return(0,o.useEffect)(()=>{Xe&&(async()=>{try{const{data:{data:F}}=await H.Z.get(`${strapi.backendURL}/admin/registration-info?registrationToken=${Xe}`);F&&_e(F)}catch(F){const Ce=Oe()(F,["response","data","message"],"An error occurred");Ye({type:"warning",message:Ce}),Pe(`/auth/oops?info=${encodeURIComponent(Ce)}`)}})()},[Xe]),o.createElement(C.ZP,null,o.createElement(C.bU,null,o.createElement(Z.Formik,{enableReinitialize:!0,initialValues:{firstname:it.firstname||"",lastname:it.lastname||"",email:it.email||"",password:"",confirmPassword:"",registrationToken:Xe||void 0,news:!1},onSubmit:async(be,F)=>{try{await we.validate(be,{abortEarly:!1}),Ne>0&&$==="register-admin"&&ht("didSubmitWithErrorsFirstAdmin",{count:Ne.toString()}),me(Xe?{userInfo:a()(be,["registrationToken"]),registrationToken:Xe}:be,F)}catch(Ce){const Fe=(0,l.getYupInnerErrors)(Ce);Lt(Ne+1),F.setErrors(Fe)}},validateOnChange:!1},({values:be,errors:F,handleChange:Ce})=>o.createElement(l.Form,{noValidate:!0},o.createElement(w.o,null,o.createElement(C.sg,null,o.createElement(j.Z,null),o.createElement(y.x,{paddingTop:6,paddingBottom:1},o.createElement(A.Z,{as:"h1",variant:"alpha"},ee({id:"Auth.form.welcome.title",defaultMessage:"Welcome to Strapi!"}))),o.createElement(Ct,{paddingBottom:7},o.createElement(A.Z,{variant:"epsilon",textColor:"neutral600"},ee({id:"Auth.form.register.subtitle",defaultMessage:"Credentials are only used to authenticate in Strapi. All saved data will be stored in your database."})))),o.createElement(O.K,{spacing:6},o.createElement(ce.r,{gap:4},o.createElement(fe.P,{col:6},o.createElement(v.o,{name:"firstname",required:!0,value:be.firstname,error:F.firstname?ee(F.firstname):void 0,onChange:Ce,label:ee({id:"Auth.form.firstname.label",defaultMessage:"Firstname"})})),o.createElement(fe.P,{col:6},o.createElement(v.o,{name:"lastname",value:be.lastname,onChange:Ce,label:ee({id:"Auth.form.lastname.label",defaultMessage:"Lastname"})}))),o.createElement(v.o,{name:"email",disabled:Be.includes("email"),value:be.email,onChange:Ce,error:F.email?ee(F.email):void 0,required:!0,label:ee({id:"Auth.form.email.label",defaultMessage:"Email"}),type:"email"}),o.createElement(ft,{name:"password",onChange:Ce,value:be.password,error:F.password?ee(F.password):void 0,endAction:o.createElement(We.Z,{onClick:Fe=>{Fe.preventDefault(),Ae(Ke=>!Ke)},label:ee(ze?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},ze?o.createElement(N.default,null):o.createElement(X.default,null)),hint:ee({id:"Auth.form.password.hint",defaultMessage:"Must be at least 8 characters, 1 uppercase, 1 lowercase & 1 number"}),required:!0,label:ee({id:"global.password",defaultMessage:"Password"}),type:ze?"text":"password"}),o.createElement(ft,{name:"confirmPassword",onChange:Ce,value:be.confirmPassword,error:F.confirmPassword?ee(F.confirmPassword):void 0,endAction:o.createElement(We.Z,{onClick:Fe=>{Fe.preventDefault(),Je(Ke=>!Ke)},label:ee(Ve?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},Ve?o.createElement(N.default,null):o.createElement(X.default,null)),required:!0,label:ee({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:Ve?"text":"password"}),o.createElement(V.X,{onValueChange:Fe=>{Ce({target:{value:Fe,name:"news"}})},value:be.news,name:"news","aria-label":"news"},ee({id:"Auth.form.register.news.label",defaultMessage:"Keep me updated about new features & upcoming improvements (by doing this you accept the {terms} and the {policy})."},{terms:o.createElement(Re,{target:"_blank",href:"https://strapi.io/terms",rel:"noreferrer"},ee({id:"Auth.privacy-policy-agreement.terms",defaultMessage:"terms"})),policy:o.createElement(Re,{target:"_blank",href:"https://strapi.io/privacy",rel:"noreferrer"},ee({id:"Auth.privacy-policy-agreement.policy",defaultMessage:"policy"}))})),o.createElement(U.z,{fullWidth:!0,size:"L",type:"submit"},ee({id:"Auth.form.button.register",defaultMessage:"Let's start"})))))),!x&&o.createElement(y.x,{paddingTop:4},o.createElement(q.k,{justifyContent:"center"},o.createElement(l.Link,{label:"Auth.link.signin",to:"/auth/login"},ee({id:"Auth.link.signin.account",defaultMessage:"Already have an account?"}))))))};at.defaultProps={fieldsToDisable:[],noSignin:!1,onSubmit:$=>$.preventDefault()},at.propTypes={authType:g().string.isRequired,fieldsToDisable:g().array,noSignin:g().bool,onSubmit:g().func,schema:g().shape({validate:g().func.isRequired,type:g().string.isRequired}).isRequired};const ut=at,Ee=(0,re.default)(v.o)`
  ::-ms-reveal {
    display: none;
  }
`,dt=({onSubmit:$,schema:Be})=>{const[x,me]=(0,o.useState)(!1),[we,Ye]=(0,o.useState)(!1),{formatMessage:Pe}=(0,E.useIntl)();return o.createElement(C.ZP,null,o.createElement(w.o,null,o.createElement(C.bU,null,o.createElement(Z.Formik,{enableReinitialize:!0,initialValues:{password:"",confirmPassword:""},onSubmit:$,validationSchema:Be,validateOnChange:!1},({values:ze,errors:Ae,handleChange:Ve})=>o.createElement(l.Form,{noValidate:!0},o.createElement(C.sg,null,o.createElement(j.Z,null),o.createElement(y.x,{paddingTop:6,paddingBottom:7},o.createElement(A.Z,{as:"h1",variant:"alpha"},Pe({id:"global.reset-password",defaultMessage:"Reset password"}))),Ae.errorMessage&&o.createElement(A.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},Pe({id:Ae.errorMessage,defaultMessage:"An error occurred"}))),o.createElement(O.K,{spacing:6},o.createElement(Ee,{name:"password",onChange:Ve,value:ze.password,error:Ae.password?Pe({id:Ae.password,defaultMessage:"This field is required."}):void 0,endAction:o.createElement(We.Z,{onClick:Je=>{Je.preventDefault(),me(Ne=>!Ne)},label:Pe(x?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},x?o.createElement(N.default,null):o.createElement(X.default,null)),hint:Pe({id:"Auth.form.password.hint",defaultMessage:"Password must contain at least 8 characters, 1 uppercase, 1 lowercase and 1 number"}),required:!0,label:Pe({id:"global.password",defaultMessage:"Password"}),type:x?"text":"password"}),o.createElement(Ee,{name:"confirmPassword",onChange:Ve,value:ze.confirmPassword,error:Ae.confirmPassword?Pe({id:Ae.confirmPassword,defaultMessage:"This value is required."}):void 0,endAction:o.createElement(We.Z,{onClick:Je=>{Je.preventDefault(),Ye(Ne=>!Ne)},label:Pe(x?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},we?o.createElement(N.default,null):o.createElement(X.default,null)),required:!0,label:Pe({id:"Auth.form.confirmPassword.label",defaultMessage:"Confirm Password"}),type:we?"text":"password"}),o.createElement(U.z,{fullwidth:!0,type:"submit"},Pe({id:"global.change-password",defaultMessage:"Change password"})))))),o.createElement(q.k,{justifyContent:"center"},o.createElement(y.x,{paddingTop:4},o.createElement(l.Link,{to:"/auth/login"},Pe({id:"Auth.link.ready",defaultMessage:"Ready to sign in?"}))))))};dt.defaultProps={onSubmit:$=>$.preventDefault()},dt.propTypes={onSubmit:g().func,schema:g().shape({type:g().string.isRequired}).isRequired};const ot=dt;var st=function(){return window&&window.strapi&&window.strapi.isEE?e(9442).Z:e(73347).Z}(),rt={"forgot-password":{Component:z,endPoint:"forgot-password",fieldsToDisable:[],fieldsToOmit:[],schema:t.Ry().shape({email:t.Z_().email(l.translatedErrors.email).required(l.translatedErrors.required)}),inputsPrefix:""},"forgot-password-success":{Component:G,endPoint:"",fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},login:{Component:st,endPoint:"login",fieldsToDisable:[],fieldsToOmit:["rememberMe"],schema:t.Ry().shape({email:t.Z_().email(l.translatedErrors.email).required(l.translatedErrors.required),password:t.Z_().required(l.translatedErrors.required),rememberMe:t.Xg().nullable()}),inputsPrefix:""},oops:{Component:P,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""},register:{Component:ut,endPoint:"register",fieldsToDisable:["email"],fieldsToOmit:["userInfo.confirmPassword","userInfo.news","userInfo.email"],schema:t.Ry().shape({firstname:t.Z_().trim().required(l.translatedErrors.required),lastname:t.Z_(),password:t.Z_().min(8,l.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(l.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(l.translatedErrors.required),registrationToken:t.Z_().required(l.translatedErrors.required)}),inputsPrefix:"userInfo."},"register-admin":{Component:ut,endPoint:"register-admin",noSignin:!0,fieldsToDisable:[],fieldsToOmit:["confirmPassword","news"],schema:t.Ry().shape({firstname:t.Z_().trim().required(l.translatedErrors.required),lastname:t.Z_(),password:t.Z_().min(8,l.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(l.translatedErrors.required),email:t.Z_().email(l.translatedErrors.email).strict().lowercase(l.translatedErrors.lowercase).required(l.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(l.translatedErrors.required)}),inputsPrefix:""},"reset-password":{Component:ot,endPoint:"reset-password",fieldsToDisable:[],fieldsToOmit:["confirmPassword"],schema:t.Ry().shape({password:t.Z_().min(8,l.translatedErrors.minLength).matches(/[a-z]/,"components.Input.error.contain.lowercase").matches(/[A-Z]/,"components.Input.error.contain.uppercase").matches(/\d/,"components.Input.error.contain.number").required(l.translatedErrors.required),confirmPassword:t.Z_().oneOf([t.iH("password"),null],"components.Input.error.password.noMatch").required(l.translatedErrors.required)})}};const ct=rt},87751:(k,f,e)=>{"use strict";e.d(f,{Z:()=>g});var t=e(96486);const o={contentManager:{main:[],collectionTypesConfigurations:[{action:"plugin::content-manager.collection-types.configure-view",subject:null}],componentsConfigurations:[{action:"plugin::content-manager.components.configure-layout",subject:null}],singleTypesConfigurations:[{action:"plugin::content-manager.single-types.configure-view",subject:null}]},marketplace:{main:[{action:"admin::marketplace.read",subject:null},{action:"admin::marketplace.plugins.install",subject:null},{action:"admin::marketplace.plugins.uninstall",subject:null}],install:[{action:"admin::marketplace.plugins.install",subject:null}],read:[{action:"admin::marketplace.read",subject:null},{action:"admin::marketplace.plugins.uninstall",subject:null}],uninstall:[{action:"admin::marketplace.plugins.uninstall",subject:null}]},settings:{auditLogs:{main:[{action:"admin::audit-logs.read",subject:null}],read:[{action:"admin::audit-logs.read",subject:null}]},roles:{main:[{action:"admin::roles.create",subject:null},{action:"admin::roles.update",subject:null},{action:"admin::roles.read",subject:null},{action:"admin::roles.delete",subject:null}],create:[{action:"admin::roles.create",subject:null}],delete:[{action:"admin::roles.delete",subject:null}],read:[{action:"admin::roles.read",subject:null}],update:[{action:"admin::roles.update",subject:null}]},users:{main:[{action:"admin::users.create",subject:null},{action:"admin::users.read",subject:null},{action:"admin::users.update",subject:null},{action:"admin::users.delete",subject:null}],create:[{action:"admin::users.create",subject:null}],delete:[{action:"admin::users.delete",subject:null}],read:[{action:"admin::users.read",subject:null}],update:[{action:"admin::users.update",subject:null}]},webhooks:{main:[{action:"admin::webhooks.create",subject:null},{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],create:[{action:"admin::webhooks.create",subject:null}],delete:[{action:"admin::webhooks.delete",subject:null}],read:[{action:"admin::webhooks.read",subject:null},{action:"admin::webhooks.update",subject:null},{action:"admin::webhooks.delete",subject:null}],update:[{action:"admin::webhooks.update",subject:null}]},"api-tokens":{main:[{action:"admin::api-tokens.access",subject:null}],create:[{action:"admin::api-tokens.create",subject:null}],delete:[{action:"admin::api-tokens.delete",subject:null}],read:[{action:"admin::api-tokens.read",subject:null}],update:[{action:"admin::api-tokens.update",subject:null}],regenerate:[{action:"admin::api-tokens.regenerate",subject:null}]},"transfer-tokens":{main:[{action:"admin::transfer.tokens.access",subject:null}],create:[{action:"admin::transfer.tokens.create",subject:null}],delete:[{action:"admin::transfer.tokens.delete",subject:null}],read:[{action:"admin::transfer.tokens.read",subject:null}],update:[{action:"admin::transfer.tokens.update",subject:null}],regenerate:[{action:"admin::transfer.tokens.regenerate",subject:null}]},"project-settings":{read:[{action:"admin::project-settings.read",subject:null}],update:[{action:"admin::project-settings.update",subject:null}]}}};var E=function(){return window&&window.strapi&&window.strapi.isEE?e(2199).Z:e(69623).Z}(),p=(0,t.merge)(o,E);const g=p},31424:(k,f,e)=>{"use strict";e.r(f),e.d(f,{default:()=>nn});var t=e(67294),l=e(49656),o=e(42675),E=e(38992),p=e(82492),g=e.n(p),y=e(78718),O=e.n(y),w=e(23560),q=e.n(w),U=e(41143),v=e.n(U),A=e(15482),Z=e(63871);const j=()=>{const i=[];return{register(s){i.push(s)},delete(s){i.splice(i.indexOf(s),1)},runWaterfall(s,n){return i.reduce((r,d)=>d(r,n),s)},async runWaterfallAsync(s,n){let r=s;for(const d of i)r=await d(r,n);return r},runSeries(...s){return i.map(n=>n(...s))},async runSeriesAsync(...s){const n=[];for(const r of i)n.push(await r(...s));return n},runParallel(...s){return Promise.all(i.map(n=>n(...s)))}}};var T=e(35281);const z=(i,s)=>{let n=T.compose;const r=[];i.forEach(h=>{r.push(h())});const d=(0,T.createStore)(de(s,{}),{},n((0,T.applyMiddleware)(...r)));return d.asyncReducers={},d.injectReducer=(h,R)=>{d.asyncReducers[h]=R,d.replaceReducer(de(s,d.asyncReducers))},d},de=(i,s)=>(0,T.combineReducers)({...i,...s}),G=z;var je=e(42775),P=e(68547),re=e(11817),ke=e(727),Oe=e(97132),Te=e(45697),a=e.n(Te);const S=({component:i,path:s,...n})=>{const{pathname:r,search:d}=(0,l.useLocation)();return t.createElement(l.Route,{path:s,render:h=>P.auth.getToken()!==null?t.createElement(i,{...n,...h}):t.createElement(l.Redirect,{to:{pathname:"/auth/login",search:r!=="/"&&`?redirectTo=${encodeURIComponent(`${r}${d}`)}`}})})};S.propTypes={component:a().any.isRequired,path:a().string.isRequired};const H=(0,t.memo)(S);var V=e(38683),ce=e(87462),fe=e(64572),X=e(15861),N=e(70885),We=e(45987),Ct=e(64687),Re=e.n(Ct),ft=e(68929),at=e.n(ft),ut=e(27361),Ee=e.n(ut),dt=e(57557),ot=e.n(dt);const st="GUIDED_TOUR_CURRENT_STEP",rt="GUIDED_TOUR_COMPLETED_STEPS",ct="GUIDED_TOUR_SKIPPED",$=JSON.parse,Be=JSON.stringify,me={clear(){localStorage.removeItem(st),localStorage.removeItem(rt)},addCompletedStep(i){const s=$(localStorage.getItem(rt))?.slice()||[];s.includes(i)||(s.push(i),localStorage.setItem(rt,Be(s)))},addCurrentStep(i){localStorage.setItem(st,Be(i))},setSkipped(i){localStorage.setItem(ct,Be(i))},get(i){return $(localStorage.getItem(i))}};var we=e(50592),Ye=e(27858);const ze=i=>i;var Ae=e(18172),Ve=e(96486);const Je={formErrors:{},modifiedData:{},requestError:null},Ne=(i,s)=>(0,Ae.default)(i,n=>{switch(s.type){case"ON_CHANGE":{(0,Ve.set)(n.modifiedData,s.keys.split("."),s.value);break}case"RESET_PROPS":return Je;case"SET_DATA":{n.modifiedData=s.data;break}case"SET_ERRORS":{n.formErrors=s.errors;break}case"SET_REQUEST_ERROR":{n.requestError={errorMessage:s.errorMessage,errorStatus:s.errorStatus};break}default:return n}});var Lt=e(25108),it=["Component","endPoint","fieldsToDisable","fieldsToOmit","inputsPrefix","schema"];function _e(i,s){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);s&&(r=r.filter(function(d){return Object.getOwnPropertyDescriptor(i,d).enumerable})),n.push.apply(n,r)}return n}function ht(i){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?_e(Object(n),!0).forEach(function(r){(0,fe.Z)(i,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(n,r))})}return i}var ee=function(){return window&&window.strapi&&window.strapi.isEE?e(98837).Z:e(42243).Z}(),mt=function(s){var n=s.hasAdmin,r=s.setHasAdmin,d=(0,l.useHistory)(),h=d.push,R=d.location.search,M=(0,we.Z)(),le=M.changeLocale,se=(0,P.useGuidedTour)(),ae=se.setSkipped,I=(0,P.useTracking)(),Q=I.trackUsage,Y=(0,l.useRouteMatch)("/auth/:authType"),D=Y.params.authType,B=(0,P.useQuery)(),oe=Ee()(ee,D,{}),Ze=oe.Component,Pt=oe.endPoint,Rt=oe.fieldsToDisable,gt=oe.fieldsToOmit,Bt=oe.inputsPrefix,wt=oe.schema,an=(0,We.Z)(oe,it),on=(0,t.useReducer)(Ne,Je,ze),vs=(0,N.Z)(on,2),Xt=vs[0],rn=Xt.formErrors,ln=Xt.modifiedData,un=Xt.requestError,xt=vs[1],dn=re.Z.CancelToken,At=dn.source();(0,t.useEffect)(function(){return function(){At.cancel("Component unmounted")}},[]),(0,t.useEffect)(function(){xt({type:"RESET_PROPS"})},[D]);var cn=function(pe){var J=pe.target,ve=J.name,ne=J.value;xt({type:"ON_CHANGE",keys:ve,value:ne})},mn=function(){var Ge=(0,X.Z)(Re().mark(function pe(J,ve){var ne,ye,Me,De;return Re().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(ne=ve.setSubmitting,ye=ve.setErrors,ne(!0),Me=ot()(J,gt),De="/admin/".concat(Pt),D!=="login"){ue.next=7;break}return ue.next=7,pn(J,De,{setSubmitting:ne,setErrors:ye});case 7:if(!(D==="register"||D==="register-admin")){ue.next=10;break}return ue.next=10,fn(J,De,{setSubmitting:ne,setErrors:ye});case 10:if(D!=="forgot-password"){ue.next=13;break}return ue.next=13,gn(Me,De,{setSubmitting:ne,setErrors:ye});case 13:if(D!=="reset-password"){ue.next=16;break}return ue.next=16,hn(Me,De,{setSubmitting:ne,setErrors:ye});case 16:case"end":return ue.stop()}},pe)}));return function(J,ve){return Ge.apply(this,arguments)}}(),gn=function(){var Ge=(0,X.Z)(Re().mark(function pe(J,ve,ne){var ye,Me;return Re().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return ye=ne.setSubmitting,Me=ne.setErrors,_.prev=1,_.next=4,(0,re.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(ve),data:J,cancelToken:At.token});case 4:h("/auth/forgot-password-success"),_.next=11;break;case 7:_.prev=7,_.t0=_.catch(1),Lt.error(_.t0),Me({errorMessage:"notification.error"});case 11:return _.prev=11,ye(!1),_.finish(11);case 14:case"end":return _.stop()}},pe,null,[[1,7,11,14]])}));return function(J,ve,ne){return Ge.apply(this,arguments)}}(),pn=function(){var Ge=(0,X.Z)(Re().mark(function pe(J,ve,ne){var ye,Me,De,_,ue,He,$e;return Re().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ye=ne.setSubmitting,Me=ne.setErrors,ie.prev=1,ie.next=4,(0,re.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(ve),data:ot()(J,gt),cancelToken:At.token});case 4:De=ie.sent,_=De.data.data,ue=_.token,He=_.user,He.preferedLanguage&&le(He.preferedLanguage),P.auth.setToken(ue,J.rememberMe),P.auth.setUserInfo(He,J.rememberMe),ys(),ie.next=23;break;case 14:if(ie.prev=14,ie.t0=ie.catch(1),!ie.t0.response){ie.next=23;break}if($e=Ee()(ie.t0,["response","data","error","message"],"Something went wrong"),at()($e).toLowerCase()!=="usernotactive"){ie.next=22;break}return h("/auth/oops"),xt({type:"RESET_PROPS"}),ie.abrupt("return");case 22:Me({errorMessage:$e});case 23:return ie.prev=23,ye(!1),ie.finish(23);case 26:case"end":return ie.stop()}},pe,null,[[1,14,23,26]])}));return function(J,ve,ne){return Ge.apply(this,arguments)}}(),fn=function(){var Ge=(0,X.Z)(Re().mark(function pe(J,ve,ne){var ye,Me,De,_,ue,He,$e,pt,ie,he;return Re().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return ye=ne.setSubmitting,Me=ne.setErrors,Ie.prev=1,Q("willCreateFirstAdmin"),Ie.next=5,(0,re.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(ve),data:ot()(J,gt),cancelToken:At.token});case 5:if(De=Ie.sent,_=De.data.data,ue=_.token,He=_.user,P.auth.setToken(ue,!1),P.auth.setUserInfo(He,!1),ye(!1),r(!0),$e=He.roles,$e&&(pt=$e.find(function(En){var vn=En.code;return vn==="strapi-super-admin"}),pt&&(me.setSkipped(!1),ae(!1),Q("didLaunchGuidedtour"))),!(D==="register"&&J.userInfo.news===!0||D==="register-admin"&&J.news===!0)){Ie.next=18;break}return h({pathname:"/usecase",search:"?hasAdmin=".concat(n)}),Ie.abrupt("return");case 18:ys(),Ie.next=25;break;case 21:Ie.prev=21,Ie.t0=Ie.catch(1),Q("didNotCreateFirstAdmin"),Ie.t0.response&&(ie=Ie.t0.response.data,he=(0,Ye.Z)(ie),Me({apiErrors:he}));case 25:case"end":return Ie.stop()}},pe,null,[[1,21]])}));return function(J,ve,ne){return Ge.apply(this,arguments)}}(),hn=function(){var Ge=(0,X.Z)(Re().mark(function pe(J,ve,ne){var ye,Me,De,_,ue,He,$e,pt;return Re().wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return ye=ne.setErrors,Me=ne.setSubmitting,he.prev=1,he.next=4,(0,re.Z)({method:"POST",url:"".concat(strapi.backendURL).concat(ve),data:ht(ht({},J),{},{resetPasswordToken:B.get("code")}),cancelToken:At.token});case 4:De=he.sent,_=De.data.data,ue=_.token,He=_.user,P.auth.setToken(ue,!1),P.auth.setUserInfo(He,!1),h("/"),he.next=16;break;case 13:he.prev=13,he.t0=he.catch(1),he.t0.response&&($e=Ee()(he.t0,["response","data","message"],"Something went wrong"),pt=Ee()(he.t0,["response","data","statusCode"],400),xt({type:"SET_REQUEST_ERROR",errorMessage:$e,errorStatus:pt}),ye({errorMessage:$e}));case 16:return he.prev=16,Me(!1),he.finish(16);case 19:case"end":return he.stop()}},pe,null,[[1,13,16,19]])}));return function(J,ve,ne){return Ge.apply(this,arguments)}}(),ys=function(){if(D==="login"){var pe=B.get("redirectTo"),J=pe?decodeURIComponent(pe):"/";h(J)}else h("/")};return!ee[D]||n&&D==="register-admin"||P.auth.getToken()?t.createElement(l.Redirect,{to:"/"}):!n&&D!=="register-admin"?t.createElement(l.Redirect,{to:{pathname:"/auth/register-admin",search:R}}):t.createElement(Ze,(0,ce.Z)({},an,{authType:D,fieldsToDisable:Rt,formErrors:rn,inputsPrefix:Bt,modifiedData:ln,onChange:cn,onSubmit:mn,requestError:un,schema:wt}))};mt.defaultProps={hasAdmin:!1},mt.propTypes={hasAdmin:a().bool,setHasAdmin:a().func.isRequired};const Xe=mt;var be=e(23330),F=e(27821),Ce=e(80129),Fe=e(185),Ke=e(11047),lt=e(41580),Et=e(7681),vt=e(75515),St=e(91216),Mt=e(82562),Zt=e(16364),Qt=e(39785),Wt=e(29728),Nt=e(79690),Ft=e(36206);const Kt=[{intlLabel:{id:"Usecase.front-end",defaultMessage:"Front-end developer"},value:"front_end_developer"},{intlLabel:{id:"Usecase.back-end",defaultMessage:"Back-end developer"},value:"back_end_developer"},{intlLabel:{id:"Usecase.full-stack",defaultMessage:"Full-stack developer"},value:"full_stack_developer"},{intlLabel:{id:"global.content-manager",defaultMessage:"Content Manager"},value:"content_manager"},{intlLabel:{id:"Usecase.content-creator",defaultMessage:"Content Creator"},value:"content_creator"},{intlLabel:{id:"Usecase.other",defaultMessage:"Other"},value:"other"}],Yt=(0,F.default)(vt.Z)`
  text-align: center;
`,Gt=()=>{const i=(0,P.useNotification)(),{push:s,location:n}=(0,l.useHistory)(),{formatMessage:r}=(0,Oe.useIntl)(),[d,h]=(0,t.useState)(),[R,M]=(0,t.useState)(""),{firstname:le,email:se}=P.auth.getUserInfo(),{hasAdmin:ae}=(0,Ce.parse)(n?.search,{ignoreQueryPrefix:!0}),I=d==="other",Q=Y=>{try{(0,re.Z)({method:"POST",url:"https://analytics.strapi.io/register",data:{email:se,username:le,firstAdmin:Boolean(!ae),persona:{role:Y?void 0:d,otherRole:Y?void 0:R}}}),i({type:"success",message:{id:"Usecase.notification.success.project-created",defaultMessage:"Project has been successfully created"}}),s("/")}catch{}};return t.createElement(Ft.ZP,null,t.createElement(Fe.o,{labelledBy:"usecase-title"},t.createElement(Ft.bU,null,t.createElement("form",{onSubmit:()=>Q(!1)},t.createElement(Ke.k,{direction:"column",paddingBottom:7},t.createElement(Nt.Z,null),t.createElement(lt.x,{paddingTop:6,paddingBottom:1,width:(0,P.pxToRem)(250)},t.createElement(Yt,{variant:"alpha",as:"h1",id:"usecase-title"},r({id:"Usecase.title",defaultMessage:"Tell us a bit more about yourself"})))),t.createElement(Et.K,{spacing:6},t.createElement(St.P,{id:"usecase","data-testid":"usecase",label:r({id:"Usecase.input.work-type",defaultMessage:"What type of work do you do?"}),onChange:h,value:d},Kt.map(({intlLabel:Y,value:D})=>t.createElement(Mt.W,{key:D,value:D},r(Y)))),I&&t.createElement(Zt.o,{name:"other",label:r({id:"Usecase.other",defaultMessage:"Other"}),value:R,onChange:Y=>M(Y.target.value),"data-testid":"other"}),t.createElement(Wt.z,{type:"submit",size:"L",fullWidth:!0,disabled:!d},r({id:"global.finish",defaultMessage:"Finish"}))))),t.createElement(Ke.k,{justifyContent:"center"},t.createElement(lt.x,{paddingTop:4},t.createElement(Qt.A,{onClick:()=>Q(!0)},r({id:"Usecase.button.skip",defaultMessage:"Skip this question"}))))))};var _t=e(66716);const qt=async()=>`web-fingerprint-${(await(await _t.ZP.load()).get()).visitorId}`;var Dt=e(42982);const Ht=[];var m=function(){return window&&window.strapi&&window.strapi.isEE?e(35499).Z:e(77981).Z}();const c=[].concat((0,Dt.Z)(m),(0,Dt.Z)(Ht));var u=e(48474);const L=(0,t.lazy)(()=>Promise.all([e.e(6914),e.e(801)]).then(e.bind(e,93858)));function b(){const i=(0,P.useNotification)(),{updateProjectSettings:s}=(0,u.um)(),{formatMessage:n}=(0,Oe.useIntl)(),[{isLoading:r,hasAdmin:d,uuid:h,deviceId:R},M]=(0,t.useState)({isLoading:!0,hasAdmin:!1}),le=(0,P.useAppInfos)(),{get:se}=(0,P.useFetchClient)(),ae=(0,t.useMemo)(()=>(0,V.WW)(c.map(({to:B,Component:oe,exact:Ze})=>(0,V.ot)(oe,B,Ze))),[]),[I,Q]=(0,t.useState)(null);(0,t.useEffect)(()=>{const B=P.auth.getToken();B&&(async()=>{try{const{data:{token:Ze}}=await(0,P.request)("/admin/renew-token",{method:"POST",body:{token:B}});P.auth.updateToken(Ze)}catch{P.auth.clearAppStorage(),window.location.reload()}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{const{data:{data:{hasAdmin:oe,uuid:Ze,menuLogo:Pt,authLogo:Rt}}}=await re.Z.get(`${strapi.backendURL}/admin/init`);s({menuLogo:(0,P.prefixFileUrlWithBackendUrl)(Pt),authLogo:(0,P.prefixFileUrlWithBackendUrl)(Rt)});const gt=await qt();if(Ze){const{data:{data:Bt}}=await se("/admin/telemetry-properties",{validateStatus:wt=>wt<500});Q(Bt);try{await fetch("https://analytics.strapi.io/api/v2/track",{method:"POST",body:JSON.stringify({event:"didInitializeAdministration",userId:"",deviceId:gt,eventPropeties:{},userProperties:{environment:le.currentEnvironment},groupProperties:{...Bt,projectId:Ze}}),headers:{"Content-Type":"application/json"}})}catch{}}M({isLoading:!1,hasAdmin:oe,uuid:Ze,deviceId:gt})}catch{i({type:"warning",message:{id:"app.containers.App.notification.error.init"}})}})()},[i,s]);const Y=B=>M(oe=>({...oe,hasAdmin:B})),D=(0,t.useMemo)(()=>({uuid:h,telemetryProperties:I,deviceId:R}),[h,I,R]);return r?t.createElement(P.LoadingIndicatorPage,null):t.createElement(t.Suspense,{fallback:t.createElement(P.LoadingIndicatorPage,null)},t.createElement(ke.z,null,n({id:"skipToContent"})),t.createElement(P.TrackingProvider,{value:D},t.createElement(l.Switch,null,ae,t.createElement(l.Route,{path:"/auth/:authType",render:B=>t.createElement(Xe,{...B,setHasAdmin:Y,hasAdmin:d}),exact:!0}),t.createElement(H,{path:"/usecase",component:Gt}),t.createElement(H,{path:"/",component:L}),t.createElement(l.Route,{path:"",component:be.default}))))}const W=b;var K=e(61473),te=e(23724),ge=e(37424),Ue=e(47713);const Le={menuLogo:null,authLogo:null},et=(i=Le,s)=>(0,Ae.default)(i,n=>{switch(s.type){case"UPDATE_PROJECT_SETTINGS":{Object.assign(n,s.values);break}default:return n}}),nt=({children:i,authLogo:s,menuLogo:n,showReleaseNotification:r,showTutorials:d})=>{const[{menuLogo:h,authLogo:R},M]=(0,t.useReducer)(et,Le),le=(0,t.useCallback)(({menuLogo:ae,authLogo:I})=>M({type:"UPDATE_PROJECT_SETTINGS",values:{menuLogo:ae||n,authLogo:I||s}}),[s,n]),se=(0,t.useMemo)(()=>({logos:{menu:{custom:h,default:n},auth:{custom:R,default:s}},updateProjectSettings:le,showReleaseNotification:r,showTutorials:d}),[h,n,R,s,le,r,d]);return t.createElement(Ue._5.Provider,{value:se},i)};nt.propTypes={authLogo:a().string.isRequired,children:a().element.isRequired,menuLogo:a().string.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired};const yt=nt;var Ot=e(66913),bt=e.n(Ot),Tt=e(93343);const Qe=({changeLocale:i,children:s,localeNames:n,messages:r})=>t.createElement(Tt.Z.Provider,{value:{changeLocale:i,localeNames:n,messages:r}},s);Qe.propTypes={changeLocale:a().func.isRequired,children:a().element.isRequired,localeNames:a().object.isRequired,messages:a().object.isRequired};const Se=Qe,xe="strapi-admin-language",Rs=i=>{const s=window.localStorage.getItem(xe);return{locale:i[s]?s:"en",localeNames:i}},es={localeNames:{en:"English"},locale:"en"},As=(i=es,s)=>{switch(s.type){case"CHANGE_LOCALE":{const{locale:n}=s;return i.localeNames[n]?{...i,locale:n}:i}default:return i}},ts=({children:i,localeNames:s,messages:n})=>{const[{locale:r},d]=(0,t.useReducer)(As,es,()=>Rs(s));(0,t.useEffect)(()=>{window.localStorage.setItem(xe,r),document.documentElement.setAttribute("lang",r)},[r]);const h=M=>{d({type:"CHANGE_LOCALE",locale:M})},R=bt()(n[r],n.en);return t.createElement(Oe.IntlProvider,{locale:r,defaultLocale:"en",messages:R,textComponent:"span"},t.createElement(Se,{changeLocale:h,localeNames:s,messages:R},i))};ts.propTypes={children:a().element.isRequired,localeNames:a().objectOf(a().string).isRequired,messages:a().object.isRequired};const Cs=ts,Ls=(i,s)=>{const n=Object.entries(s),r=n.findIndex(([h])=>h===i);return n.slice(0,r).every(([,h])=>Object.values(h).every(Boolean))},Ss=(i,s)=>{const n=i.split("."),r=n[1],d=Object.entries(s[n[0]]),h=d.findIndex(([M])=>M===r);return d.slice(0,h).every(([,M])=>M)},ss={currentStep:null,guidedTourState:{contentTypeBuilder:{create:!1,success:!1},contentManager:{create:!1,success:!1},apiTokens:{create:!1,success:!1}},isGuidedTourVisible:!1,isSkipped:!0},Ms=(i=ss,s)=>(0,Ae.default)(i,n=>{switch(s.type){case"SET_CURRENT_STEP":{n.currentStep=s.step;break}case"SET_STEP_STATE":{const[r,d]=s.currentStep.split(".");n.guidedTourState[r][d]=s.value;break}case"SET_SKIPPED":{n.isSkipped=s.value;break}case"SET_GUIDED_TOUR_VISIBILITY":{n.isGuidedTourVisible=s.value;break}default:return n}});var Ds=e(36968),$t=e.n(Ds);const Os=i=>{const s={...i},n=me.get(rt),r=me.get(st),d=me.get(ct);if(n&&n.forEach(h=>{const[R,M]=h.split(".");$t()(s,["guidedTourState",R,M],!0)}),r){const[h,R]=r.split(".");$t()(s,["guidedTourState",h,R],!0),me.addCompletedStep(r),me.addCurrentStep(null)}return d!==null&&$t()(s,"isSkipped",d),s},ns=({children:i})=>{const[{currentStep:s,guidedTourState:n,isGuidedTourVisible:r,isSkipped:d},h]=(0,t.useReducer)(Ms,ss,Os),R=I=>{if(I!==null){const Q=Ee()(n,I),Y=Ss(I,n);if(Q||d||!Y)return null}return me.addCurrentStep(I),h({type:"SET_CURRENT_STEP",step:I})},M=I=>{h({type:"SET_GUIDED_TOUR_VISIBILITY",value:I})},le=(I,Q)=>{me.addCompletedStep(I),h({type:"SET_STEP_STATE",currentStep:I,value:Q})},se=I=>{const Q=n[I];if(Q){const Y=Ls(I,n),D=Object.keys(Q)[0],B=Q[D];if(Y&&!s&&!B)return R(`${I}.${D}`)}return null},ae=I=>{me.setSkipped(I),h({type:"SET_SKIPPED",value:I})};return t.createElement(P.GuidedTourProvider,{guidedTourState:n,currentStep:s,setCurrentStep:R,setGuidedTourVisibility:M,setSkipped:ae,setStepState:le,startSection:se,isGuidedTourVisible:r,isSkipped:d},i)};ns.propTypes={children:a().element.isRequired};const bs=ns;var as=e(73935),Is=e(84517),ks=e(30815),os=e(36182);const Us=(0,F.default)(lt.x)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:i})=>i.colors.neutral0};
    opacity: 0.9;
  }
`,js=(0,F.default)(Et.K)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  padding-top: ${(0,P.pxToRem)(160)};
`,rs=(0,F.default)(lt.x)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:i})=>i.colors.primary600} !important;
    }
  }
`,kt=document.createElement("div"),Bs="autoReloadOverlayBlocker";kt.setAttribute("id",Bs);const ws=F.keyframes`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(359deg);
  }
`,xs=(0,F.default)(ks.Z)`
  animation: ${ws} 1s infinite linear;
`,is=({displayedIcon:i,description:s,title:n,isOpen:r})=>{const{formatMessage:d}=(0,Oe.useIntl)();return(0,t.useEffect)(()=>(document.body.appendChild(kt),()=>{document.body.removeChild(kt)}),[]),r?as.createPortal(t.createElement(Us,null,t.createElement(js,{spacing:6},t.createElement(Et.K,{spacing:2},t.createElement(Ke.k,{justifyContent:"center"},t.createElement(vt.Z,{as:"h1",variant:"alpha"},d(n))),t.createElement(Ke.k,{justifyContent:"center"},t.createElement(vt.Z,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},d(s)))),t.createElement(Ke.k,{justifyContent:"center"},i==="reload"&&t.createElement(rs,{padding:6,background:"primary100",borderColor:"primary200"},t.createElement(xs,{width:(0,P.pxToRem)(36),height:(0,P.pxToRem)(36)})),i==="time"&&t.createElement(rs,{padding:6,background:"primary100",borderColor:"primary200"},t.createElement(Is.Z,{width:(0,P.pxToRem)(40),height:(0,P.pxToRem)(40)}))),t.createElement(Ke.k,{justifyContent:"center"},t.createElement(lt.x,{paddingTop:2},t.createElement(os.r,{href:"https://docs.strapi.io",isExternal:!0},d({id:"global.documentation",defaultMessage:"Read the documentation"})))))),kt):null};is.propTypes={displayedIcon:a().oneOfType([a().string,a().array]).isRequired,description:a().object.isRequired,isOpen:a().bool.isRequired,title:a().object.isRequired};const Zs=is,ls=30,us=({children:i})=>{const[s,n]=(0,t.useState)(!1),[{elapsed:r},d]=(0,t.useState)({elapsed:0,start:0}),[h,R]=(0,t.useState)(void 0),M=(B=void 0)=>{n(!0),R(B),d(oe=>({...oe,start:Date.now()}))},le=()=>{n(!1),d({start:0,elapsed:0}),R(void 0)},se=(0,t.useRef)(M),ae=(0,t.useRef)(le);(0,t.useEffect)(()=>{let B=null;return s?B=setInterval(()=>r>ls?(clearInterval(B),null):(d(oe=>({...oe,elapsed:Math.round(Date.now()-oe.start)/1e3})),null),1e3):clearInterval(B),()=>{clearInterval(B)}},[s,r]);let I=h?.icon||"reload",Q={id:h?.description||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},Y={id:h?.title||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};r>ls&&(I="time",Q={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},Y={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"});const D=(0,t.useMemo)(()=>({lockApp:se.current,unlockApp:ae.current}),[se,ae]);return t.createElement(P.AutoReloadOverlayBockerContext.Provider,{value:D},t.createElement(Zs,{displayedIcon:I,isOpen:s,description:Q,title:Y}),i)};us.propTypes={children:a().element.isRequired};const Ws=us;var Ns=e(18986);const zt=({dispatch:i,notification:s})=>{const{formatMessage:n}=(0,Oe.useIntl)(),{message:r,link:d,type:h,id:R,onClose:M,timeout:le,blockTransition:se,title:ae}=s,I=B=>typeof B=="string"?B:n(B,B.values),Q=(0,t.useCallback)(()=>{M&&M(),i({type:"HIDE_NOTIFICATION",id:R})},[R]);(0,t.useEffect)(()=>{let B;return se||(B=setTimeout(()=>{Q()},le||2500)),()=>clearTimeout(B)},[se,Q,le]);let Y,D;return h==="info"?(Y="default",D=n({id:"notification.default.title",defaultMessage:"Information:"})):h==="warning"?(Y="danger",D=n({id:"notification.warning.title",defaultMessage:"Warning:"})):h==="softWarning"?(Y="warning",D=n({id:"notification.warning.title",defaultMessage:"Warning:"})):(Y="success",D=n({id:"notification.success.title",defaultMessage:"Success:"})),ae&&(D=typeof ae=="string"?ae:n(ae)),t.createElement(Ns.b,{action:d?t.createElement(os.r,{href:d.url,isExternal:!0},n({id:d.label?.id||d.label,defaultMessage:d.label?.defaultMessage||d.label?.id||d.label})):void 0,onClose:Q,closeLabel:"Close",title:D,variant:Y},I({id:r?.id||r,defaultMessage:r?.defaultMessage||r?.id||r,values:r?.values}))};zt.defaultProps={notification:{id:1,type:"success",message:{id:"notification.success.saved",defaultMessage:"Saved"},onClose:()=>null,timeout:2500,blockTransition:!1}},zt.propTypes={dispatch:a().func.isRequired,notification:a().shape({id:a().number,message:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})]),link:a().shape({target:a().string,url:a().string.isRequired,label:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})]).isRequired}),type:a().string,onClose:a().func,timeout:a().number,blockTransition:a().bool,title:a().oneOfType([a().string,a().shape({id:a().string.isRequired,defaultMessage:a().string,values:a().object})])})};const Fs=zt,ds={notifId:0,notifications:[]},Ks=(i=ds,s)=>(0,Ae.default)(i,n=>{switch(s.type){case"SHOW_NOTIFICATION":{n.notifications.push({id:i.notifId,type:Ee()(s,["config","type"],"success"),message:Ee()(s,["config","message"],{id:"notification.success.saved",defaultMessage:"Saved"}),link:Ee()(s,["config","link"],null),timeout:Ee()(s,["config","timeout"],2500),blockTransition:Ee()(s,["config","blockTransition"],!1),onClose:Ee()(s,["config","onClose"],null),title:Ee()(s,["config","title"],null)}),n.notifId=i.notifId+1;break}case"HIDE_NOTIFICATION":{const r=i.notifications.findIndex(d=>d.id===s.id);r!==-1&&n.notifications.splice(r,1);break}default:return n}}),cs=({children:i})=>{const[{notifications:s},n]=(0,t.useReducer)(Ks,ds),r=d=>{n({type:"SHOW_NOTIFICATION",config:d})};return t.createElement(P.NotificationsProvider,{toggleNotification:r},t.createElement(Et.K,{left:"50%",marginLeft:"-250px",position:"fixed",spacing:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},s.map(d=>t.createElement(Fs,{key:d.id,dispatch:n,notification:d}))),i)};cs.propTypes={children:a().element.isRequired};const Gs=cs,Ut=document.createElement("div");Ut.setAttribute("id","overlayBlocker");const Hs=F.default.div`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  z-index: 1140;
`,ms=({isOpen:i})=>((0,t.useEffect)(()=>(document.body.appendChild(Ut),()=>{document.body.removeChild(Ut)}),[]),i?as.createPortal(t.createElement(Hs,null),Ut):null);ms.propTypes={isOpen:a().bool.isRequired};const gs=({children:i})=>{const[s,n]=(0,t.useState)(!1),r=()=>{n(!0)},d=()=>{n(!1)};return t.createElement(P.OverlayBlockerContext.Provider,{value:{lockApp:r,unlockApp:d}},i,t.createElement(ms,{isOpen:s}))};gs.propTypes={children:a().node.isRequired};const $s=gs,Vt="STRAPI_THEME",zs=()=>{const i=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",s=localStorage.getItem(Vt);return s||localStorage.setItem(Vt,i),s||i},ps=({children:i,themes:s})=>{const[n,r]=(0,t.useState)(zs()),d=(0,t.useCallback)(R=>{r(R),localStorage.setItem(Vt,R)},[r]),h=(0,t.useMemo)(()=>({currentTheme:n,onChangeTheme:d,themes:s}),[n,d,s]);return t.createElement(Ue.Rj.Provider,{value:h},i)};ps.propTypes={children:a().node.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};const Vs=ps;var Xs=e(33976);const Qs=F.createGlobalStyle`
  body {
    background: ${({theme:i})=>i.colors.neutral100};
  }
`,fs=({children:i})=>{const{currentTheme:s,themes:n}=(0,u.M1)();return t.createElement(Xs.f,{theme:n[s]||n.light},i,t.createElement(Qs,null))};fs.propTypes={children:a().element.isRequired};const Ys=fs,Js=new te.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),hs=({authLogo:i,children:s,components:n,customFields:r,fields:d,getAdminInjectedComponents:h,getPlugin:R,localeNames:M,menu:le,menuLogo:se,messages:ae,plugins:I,runHookParallel:Q,runHookSeries:Y,runHookWaterfall:D,settings:B,showReleaseNotification:oe,showTutorials:Ze,store:Pt,themes:Rt})=>t.createElement(Vs,{themes:Rt},t.createElement(Ys,null,t.createElement(te.QueryClientProvider,{client:Js},t.createElement(ge.Provider,{store:Pt},t.createElement(Ue.ux.Provider,{value:{getAdminInjectedComponents:h}},t.createElement(yt,{authLogo:i,menuLogo:se,showReleaseNotification:oe,showTutorials:Ze},t.createElement(P.StrapiAppProvider,{getPlugin:R,menu:le,plugins:I,runHookParallel:Q,runHookWaterfall:D,runHookSeries:Y,settings:B},t.createElement(P.LibraryProvider,{components:n,fields:d},t.createElement(P.CustomFieldsProvider,{customFields:r},t.createElement(Cs,{messages:ae,localeNames:M},t.createElement(Ws,null,t.createElement($s,null,t.createElement(bs,null,t.createElement(Gs,null,s))))))))))))));hs.propTypes={authLogo:a().oneOfType([a().string,a().any]).isRequired,children:a().element.isRequired,components:a().object.isRequired,customFields:a().object.isRequired,fields:a().object.isRequired,getAdminInjectedComponents:a().func.isRequired,getPlugin:a().func.isRequired,localeNames:a().objectOf(a().string).isRequired,menu:a().arrayOf(a().shape({to:a().string.isRequired,icon:a().func.isRequired,intlLabel:a().shape({id:a().string.isRequired,defaultMessage:a().string.isRequired}).isRequired,permissions:a().array,Component:a().func})).isRequired,menuLogo:a().oneOfType([a().string,a().any]).isRequired,messages:a().object.isRequired,plugins:a().object.isRequired,runHookParallel:a().func.isRequired,runHookWaterfall:a().func.isRequired,runHookSeries:a().func.isRequired,settings:a().object.isRequired,showReleaseNotification:a().bool.isRequired,showTutorials:a().bool.isRequired,store:a().object.isRequired,themes:a().shape({light:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,dark:a().shape({colors:a().object.isRequired,shadows:a().object.isRequired,sizes:a().object.isRequired,zIndices:a().array.isRequired,spaces:a().array.isRequired,borderRadius:a().string.isRequired,mediaQueries:a().object.isRequired,fontSizes:a().array.isRequired,lineHeights:a().array.isRequired,fontWeights:a().object.isRequired}).isRequired,custom:a().object}).isRequired};const _s=hs,qs={ar:"\u0627\u0644\u0639\u0631\u0628\u064A\u0629",ca:"Catal\xE0",cs:"\u010Ce\u0161tina",de:"Deutsch",dk:"Dansk",en:"English",es:"Espa\xF1ol",eu:"Euskara",fr:"Fran\xE7ais",gu:"Gujarati",he:"\u05E2\u05D1\u05E8\u05D9\u05EA",hu:"Magyar",id:"Indonesian",it:"Italiano",ja:"\u65E5\u672C\u8A9E",ko:"\uD55C\uAD6D\uC5B4",ml:"Malayalam",ms:"Melayu",nl:"Nederlands",no:"Norwegian",pl:"Polski","pt-BR":"Portugu\xEAs (Brasil)",pt:"Portugu\xEAs (Portugal)",ru:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",sk:"Sloven\u010Dina",sv:"Swedish",th:"\u0E44\u0E17\u0E22",tr:"T\xFCrk\xE7e",uk:"\u0423\u043A\u0440\u0430\u0457\u043D\u0441\u044C\u043A\u0430",vi:"Ti\u1EBFng Vi\u1EC7t","zh-Hans":"\u4E2D\u6587 (\u7B80\u4F53)",zh:"\u4E2D\u6587 (\u7E41\u9AD4)",sa:"\u0938\u0902\u0938\u094D\u0915\u0943\u0924",hi:"\u0939\u093F\u0928\u094D\u0926\u0940"};var jt=e(80660);const en={admin:{tutorials:{links:[]}},contentManager:{editView:{informations:[],"right-links":[]},listView:{actions:[],deleteModalAdditionalInfos:[]}}},tn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAXVBMVEUAAABIRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9IRP9JRf9IRf9IRP5IRP5JRP9JRf////+Vk/+zsv++vf9mY/9taf9/fP+Jh//c3P9RTf/Ibar2AAAAFHRSTlMA/MJX+fPt48cahaff1dMaGqcahSpTPmAAAAEvSURBVFjD7dfNTsMwEATgXcf5cdKEtixtcYH3f0xEibIguba1g8Slc+58iqUedmhNaMbJzX3Xema5G2bfdv3iprE50s80g7Yqw0Oz1Z+cmOL2a38nxuy+BSfmuNv7BUhDRAMCDESBEYCDvsD6hmcMGGnCgIkcBjhaMGCmHgN66jCgoxYDWvIY4IkxgHFAkrmeU7kmfpkG4uUllXMtEE82QPs2QPs2QPs2QPs2QPsAoH0DoH0LoH0QeN3ydtnyXg38ok76MQ/gAfwf8JH8V18LQOljomBAFAyIkga4CGT7XAtEuQf4IpDri6e2BoiZA6OrAGLuxOnLQMweWXMRyPVlwQ/NAwZMNGLACJ/76ODYo5MHHl3o7EOHZ6BbjtbpG/5kfOv8P7ilbv7PX/M/rMVPqrI3XI3nd3sAAAAASUVORK5CYII=";var Es=e(25108);class sn{constructor({adminConfig:s,appPlugins:n,library:r,middlewares:d,reducers:h}){this.customConfigurations=s.config,this.customBootstrapConfiguration=s.bootstrap,this.configurations={authLogo:K,head:{favicon:tn},locales:["en"],menuLogo:K,notifications:{releases:!0},themes:{light:o.W,dark:E.$},translations:{},tutorials:!0},this.appPlugins=n||{},this.library=r,this.middlewares=d,this.plugins={},this.reducers=h,this.translations={},this.hooksDict={},this.admin={injectionZones:en},this.customFields=je.rh,this.menu=[],this.settings={global:{id:"global",intlLabel:{id:"Settings.global",defaultMessage:"Global Settings"},links:[]}}}addComponents=s=>{Array.isArray(s)?s.map(n=>this.library.components.add(n)):this.library.components.add(s)};addCorePluginMenuLink=s=>{const n=JSON.stringify(s);v()(s.to,`link.to should be defined for ${n}`),v()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),v()(["/plugins/content-type-builder","/plugins/upload"].includes(s.to),"This method is not available for your plugin"),v()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${n}`),this.menu.push(s)};addFields=s=>{Array.isArray(s)?s.map(n=>this.library.fields.add(n)):this.library.fields.add(s)};addMenuLink=s=>{const n=JSON.stringify(s);v()(s.to,`link.to should be defined for ${n}`),v()(typeof s.to=="string",`Expected link.to to be a string instead received ${typeof s.to}`),v()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${n}`),v()(s.Component&&typeof s.Component=="function","link.Component should be a valid React Component"),v()(s.icon&&typeof s.icon=="function","link.Icon should be a valid React Component"),this.menu.push(s)};addMiddlewares=s=>{s.forEach(n=>{this.middlewares.add(n)})};addReducers=s=>{Object.keys(s).forEach(n=>{this.reducers.add(n,s[n])})};addSettingsLink=(s,n)=>{v()(this.settings[s],"The section does not exist");const r=JSON.stringify(n);v()(n.id,`link.id should be defined for ${r}`),v()(n.intlLabel?.id&&n.intlLabel?.defaultMessage,`link.intlLabel.id & link.intlLabel.defaultMessage for ${r}`),v()(n.to,`link.to should be defined for ${r}`),v()(n.Component&&typeof n.Component=="function","link.Component should be a valid React Component"),this.settings[s].links.push(n)};addSettingsLinks=(s,n)=>{v()(this.settings[s],"The section does not exist"),v()(Array.isArray(n),"TypeError expected links to be an array"),n.forEach(r=>{this.addSettingsLink(s,r)})};async bootstrap(){Object.keys(this.appPlugins).forEach(s=>{const n=this.appPlugins[s].bootstrap;n&&n({addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}),q()(this.customBootstrapConfiguration)&&this.customBootstrapConfiguration({addComponents:this.addComponents,addFields:this.addFields,addMenuLink:this.addMenuLink,addReducers:this.addReducers,addSettingsLink:this.addSettingsLink,addSettingsLinks:this.addSettingsLinks,getPlugin:this.getPlugin,injectContentManagerComponent:this.injectContentManagerComponent,injectAdminComponent:this.injectAdminComponent,registerHook:this.registerHook})}bootstrapAdmin=async()=>(await this.createCustomConfigurations(),this.createHook(jt.No),this.createHook(jt.LK),this.createHook(jt.dV),this.createHook(jt.Eo),Promise.resolve());createCustomConfigurations=async()=>{if(this.customConfigurations?.locales&&(this.configurations.locales=["en",...this.customConfigurations.locales?.filter(s=>s!=="en")||[]]),this.customConfigurations?.auth?.logo&&(this.configurations.authLogo=this.customConfigurations.auth.logo),this.customConfigurations?.menu?.logo&&(this.configurations.menuLogo=this.customConfigurations.menu.logo),this.customConfigurations?.head?.favicon&&(this.configurations.head.favicon=this.customConfigurations.head.favicon),this.customConfigurations?.theme){const s=this.customConfigurations.theme.dark,n=this.customConfigurations.theme.light;!s&&!n&&(Es.warn("[deprecated] In future versions, Strapi will stop supporting this theme customization syntax. The theme configuration accepts a light and a dark key to customize each theme separately. See https://docs.strapi.io/developer-docs/latest/development/admin-customization.html#theme-extension."),g()(this.configurations.themes.light,this.customConfigurations.theme)),n&&g()(this.configurations.themes.light,n),s&&g()(this.configurations.themes.dark,s)}this.customConfigurations?.notifications?.releases!==void 0&&(this.configurations.notifications.releases=this.customConfigurations.notifications.releases),this.customConfigurations?.tutorials!==void 0&&(this.configurations.tutorials=this.customConfigurations.tutorials)};createHook=s=>{this.hooksDict[s]=j()};createSettingSection=(s,n)=>{v()(s.id,"section.id should be defined"),v()(s.intlLabel?.id&&s.intlLabel?.defaultMessage,"section.intlLabel should be defined"),v()(Array.isArray(n),"TypeError expected links to be an array"),v()(this.settings[s.id]===void 0,"A similar section already exists"),this.settings[s.id]={...s,links:[]},n.forEach(r=>{this.addSettingsLink(s.id,r)})};createStore=()=>G(this.middlewares.middlewares,this.reducers.reducers);getAdminInjectedComponents=(s,n,r)=>{try{return this.admin.injectionZones[s][n][r]||[]}catch(d){return Es.error("Cannot get injected component",d),d}};getPlugin=s=>this.plugins[s];async initialize(){Object.keys(this.appPlugins).forEach(s=>{this.appPlugins[s].register(this)})}injectContentManagerComponent=(s,n,r)=>{v()(this.admin.injectionZones.contentManager[s]?.[n],`The ${s} ${n} zone is not defined in the content manager`),v()(r,"A Component must be provided"),this.admin.injectionZones.contentManager[s][n].push(r)};injectAdminComponent=(s,n,r)=>{v()(this.admin.injectionZones.admin[s]?.[n],`The ${s} ${n} zone is not defined in the admin`),v()(r,"A Component must be provided"),this.admin.injectionZones.admin[s][n].push(r)};async loadAdminTrads(){const s=this.configurations.locales.map(d=>e(95423)(`./${d}.json`).then(({default:h})=>({data:h,locale:d})).catch(()=>({data:null,locale:d})));return(await Promise.all(s)).reduce((d,h)=>(h.data&&(d[h.locale]=h.data),d),{})}async loadTrads(){const s=await this.loadAdminTrads(),n=Object.keys(this.appPlugins).map(R=>{const M=this.appPlugins[R].registerTrads;return M?M({locales:this.configurations.locales}):null}).filter(R=>R),d=(await Promise.all(n)).reduce((R,M)=>{const le=M.reduce((se,ae)=>(se[ae.locale]=ae.data,se),{});return Object.keys(le).forEach(se=>{R[se]={...R[se],...le[se]}}),R},{}),h=this.configurations.locales.reduce((R,M)=>(R[M]={...s[M],...d[M]||{},...this.customConfigurations?.translations?.[M]},R),{});return this.configurations.translations=h,Promise.resolve()}registerHook=(s,n)=>{v()(this.hooksDict[s],`The hook ${s} is not defined. You are trying to register a hook that does not exist in the application.`),this.hooksDict[s].register(n)};registerPlugin=s=>{const n=(0,je.Sy)(s);this.plugins[n.pluginId]=n};runHookSeries=(s,n=!1)=>n?this.hooksDict[s].runSeriesAsync():this.hooksDict[s].runSeries();runHookWaterfall=(s,n,r=!1,d)=>r?this.hooksDict[s].runWaterfallAsync(n,d):this.hooksDict[s].runWaterfall(n,d);runHookParallel=s=>this.hooksDict[s].runParallel();render(){const s=this.createStore(),n=O()(qs,this.configurations.locales||[]),{components:{components:r},fields:{fields:d}}=this.library;return t.createElement(_s,{authLogo:this.configurations.authLogo,components:r,fields:d,customFields:this.customFields,localeNames:n,getAdminInjectedComponents:this.getAdminInjectedComponents,getPlugin:this.getPlugin,messages:this.configurations.translations,menu:this.menu,menuLogo:this.configurations.menuLogo,plugins:this.plugins,runHookParallel:this.runHookParallel,runHookWaterfall:(h,R,M=!1)=>this.runHookWaterfall(h,R,M,s),runHookSeries:this.runHookSeries,themes:this.configurations.themes,settings:this.settings,showTutorials:this.configurations.tutorials,showReleaseNotification:this.configurations.notifications.releases,store:s},t.createElement(t.Fragment,null,t.createElement(A.Helmet,{link:[{rel:"icon",type:"image/png",href:this.configurations.head.favicon}],htmlAttributes:{lang:localStorage.getItem(xe)||"en"}}),t.createElement(l.BrowserRouter,{basename:Z.Z},t.createElement(W,{store:s}))))}}const nn=({adminConfig:i={},appPlugins:s,library:n,middlewares:r,reducers:d})=>new sn({adminConfig:i,appPlugins:s,library:n,middlewares:r,reducers:d})},93343:(k,f,e)=>{"use strict";e.d(f,{Z:()=>o});var t=e(67294);const o=(0,t.createContext)()},50592:(k,f,e)=>{"use strict";e.d(f,{Z:()=>E});var t=e(67294),l=e(93343);const E=()=>{const{changeLocale:p,localeNames:g,messages:y}=(0,t.useContext)(l.Z);return{changeLocale:p,localeNames:g,messages:y}}},79690:(k,f,e)=>{"use strict";e.d(f,{Z:()=>g});var t=e(67294),l=e(27821),o=e(48474);const E=l.default.img`
  height: ${72/16}rem;
`,g=()=>{const{logos:{auth:y}}=(0,o.um)();return t.createElement(E,{src:y?.custom??y.default,"aria-hidden":!0,alt:""})}},47713:(k,f,e)=>{"use strict";e.d(f,{ux:()=>o,_5:()=>p,$l:()=>y,Rj:()=>w});var t=e(67294);const o=(0,t.createContext)({}),p=(0,t.createContext)({}),y=(0,t.createContext)({}),w=(0,t.createContext)({})},63871:(k,f,e)=>{"use strict";e.d(f,{Z:()=>l});const l="/admin/".replace(window.location.origin,"")},80660:(k,f,e)=>{"use strict";e.d(f,{Eo:()=>o,LK:()=>l,No:()=>t,dV:()=>E});const t="Admin/CM/pages/ListView/inject-column-in-table",l="Admin/CM/pages/App/mutate-collection-types-links",o="Admin/CM/pages/EditView/mutate-edit-view-layout",E="Admin/CM/pages/App/mutate-single-types-links"},48474:(k,f,e)=>{"use strict";e.d(f,{um:()=>E,U_:()=>j,Dq:()=>P,H9:()=>at,bP:()=>U,$_:()=>Jt,rW:()=>Ht,bF:()=>Be,G4:()=>Kt,Te:()=>vt,M1:()=>Dt});var t=e(67294),l=e(47713);const E=()=>(0,t.useContext)(l._5);var p=e(68547),g=e(18172);const y={collectionTypes:[],components:[],isLoading:!0,singleTypes:[]},w=(m,c)=>(0,g.default)(m,u=>{switch(c.type){case"GET_MODELS":{u.collectionTypes=y.collectionTypes,u.singleTypes=y.singleTypes,u.components=y.components,u.isLoading=!0;break}case"GET_MODELS_ERROR":{u.collectionTypes=y.collectionTypes,u.singleTypes=y.singleTypes,u.components=y.components,u.isLoading=!1;break}case"GET_MODELS_SUCCEDED":{const L=b=>c.contentTypes.filter(W=>W.isDisplayed&&W.kind===b);u.isLoading=!1,u.collectionTypes=L("collectionType"),u.singleTypes=L("singleType"),u.components=c.components;break}default:return u}}),U=()=>{const m=(0,p.useNotification)(),[c,u]=(0,t.useReducer)(w,y);(0,t.useEffect)(()=>{L()},[]);const L=async()=>{u({type:"GET_MODELS"});try{const[{data:b},{data:W}]=await Promise.all(["components","content-types"].map(K=>(0,p.request)(`/content-manager/${K}`,{method:"GET"})));u({type:"GET_MODELS_SUCCEDED",contentTypes:W,components:b})}catch{u({type:"GET_MODELS_ERROR"}),m({type:"warning",message:{id:"notification.error"}})}};return{...c,getData:L}},v={data:{},error:null,isLoading:!0},Z=(m,c)=>(0,g.default)(m,u=>{switch(c.type){case"GET_DATA":{u.isLoading=!0,u.data={},u.error=null;break}case"GET_DATA_SUCCEEDED":{u.data=c.data,u.isLoading=!1,u.error=null;break}case"GET_DATA_ERROR":{u.isLoading=!1,u.error=c.error;break}default:return u}}),j=m=>{const[{data:c,error:u,isLoading:L},b]=(0,t.useReducer)(Z,v);return(0,t.useEffect)(()=>{(async()=>{b({type:"GET_DATA"});const{data:K}=await(0,p.request)("/admin/permissions",{method:"GET",params:{role:m}});b({type:"GET_DATA_SUCCEEDED",data:K})})()},[m]),{data:c,error:u,isLoading:L}},T={role:{},permissions:{},isLoading:!0},de=(m,c)=>(0,g.default)(m,u=>{switch(c.type){case"GET_DATA_SUCCEEDED":{u.role=c.role,u.permissions=c.permissions,u.isLoading=!1;break}case"GET_DATA_ERROR":{u.isLoading=!1;break}case"ON_SUBMIT_SUCCEEDED":{u.role.name=c.name,u.role.description=c.description;break}default:return u}});var G=e(25108);const P=m=>{const c=(0,p.useNotification)(),[u,L]=(0,t.useReducer)(de,T);(0,t.useEffect)(()=>{m?b(m):L({type:"GET_DATA_SUCCEEDED",role:{},permissions:[]})},[m]);const b=async K=>{try{const[{data:te},{data:ge}]=await Promise.all([`roles/${K}`,`roles/${K}/permissions`].map(Ue=>(0,p.request)(`/admin/${Ue}`,{method:"GET"})));L({type:"GET_DATA_SUCCEEDED",role:te,permissions:ge})}catch(te){G.error(te),L({type:"GET_DATA_ERROR"}),c({type:"warning",message:{id:"notification.error"}})}},W=(0,t.useCallback)(K=>{L({type:"ON_SUBMIT_SUCCEEDED",...K})},[]);return{...u,onSubmitSucceeded:W}},ke=(m,c)=>c.map(({permissions:u})=>(0,p.hasPermissions)(m,u)),Te=async(m,c)=>{const u=ke(m,c),L=await Promise.all(u);return c.filter((W,K)=>L[K])};var a=e(50361),S=e.n(a);const V=async(m,c,u)=>{const L=ke(m,c),b=await Promise.all(L),W=c.filter((ge,Ue)=>b[Ue]),K=W.findIndex(ge=>ge.to==="/settings");if(K===-1)return[];const te=S()(W);return te[K].notificationsCount=u?1:0,te};var ce=e(78114),fe=e(41916),X=e(48077),N=e(87751);const We={generalSectionLinks:[{icon:fe.Z,intlLabel:{id:"global.plugins",defaultMessage:"Plugins"},to:"/list-plugins",permissions:N.Z.marketplace.main},{icon:X.Z,intlLabel:{id:"global.marketplace",defaultMessage:"Marketplace"},to:"/marketplace",permissions:N.Z.marketplace.main},{icon:ce.Z,intlLabel:{id:"global.settings",defaultMessage:"Settings"},to:"/settings",permissions:[],notificationsCount:0}],pluginsSectionLinks:[],isLoading:!0},Re=(m=We,c)=>(0,g.default)(m,u=>{switch(c.type){case"SET_SECTION_LINKS":{const{authorizedGeneralSectionLinks:L,authorizedPluginSectionLinks:b}=c.data;u.generalSectionLinks=L,u.pluginsSectionLinks=b;break}case"UNSET_IS_LOADING":{u.isLoading=!1;break}default:return u}}),at=()=>{const[m,c]=(0,t.useReducer)(Re,We),{allPermissions:u}=(0,p.useRBACProvider)(),{shouldUpdateStrapi:L}=(0,p.useAppInfos)(),{menu:b}=(0,p.useStrapiApp)(),W=(0,t.useRef)(m.generalSectionLinks),K=(0,t.useRef)(L),te=async(Ue=u)=>{const qe=await Te(Ue,b),et=await V(Ue,W.current,K.current);c({type:"SET_SECTION_LINKS",data:{authorizedGeneralSectionLinks:et,authorizedPluginSectionLinks:qe}}),c({type:"UNSET_IS_LOADING"})},ge=(0,t.useRef)(te);return(0,t.useEffect)(()=>{ge.current(u)},[u,c]),m};var ut=e(27361),Ee=e.n(ut);const ot=(m,c)=>({...m,isLoading:c}),st={roles:[],isLoading:!0},ct=(m,c)=>(0,g.default)(m,u=>{switch(c.type){case"GET_DATA":{u.isLoading=!0,u.roles=[];break}case"GET_DATA_SUCCEEDED":{u.roles=c.data,u.isLoading=!1;break}case"GET_DATA_ERROR":{u.isLoading=!1;break}default:return u}}),Be=(m=!0)=>{const c=(0,p.useNotification)(),[{roles:u,isLoading:L},b]=(0,t.useReducer)(ct,st,()=>ot(st,m));(0,t.useEffect)(()=>{m&&W()},[m]);const W=(0,t.useCallback)(async()=>{const K=(0,p.getFetchClient)();try{b({type:"GET_DATA"});const{data:{data:te}}=await K.get("/admin/roles");b({type:"GET_DATA_SUCCEEDED",data:te})}catch(te){const ge=Ee()(te,["response","payload","message"],"An error occured");b({type:"GET_DATA_ERROR"}),ge!=="Forbidden"&&c({type:"warning",message:ge})}},[c]);return{roles:u,isLoading:L,getData:W}};var x=e(96486);const me={menu:[],isLoading:!0},Ye=(m,c)=>(0,g.default)(m,u=>{switch(c.type){case"CHECK_PERMISSIONS_SUCCEEDED":{c.data.forEach(L=>{L.hasPermission&&(0,x.set)(u,["menu",...L.path.split("."),"isDisplayed"],L.hasPermission)}),u.menu.forEach((L,b)=>{u.menu[b].links=L.links.filter(W=>W.isDisplayed===!0)}),u.isLoading=!1;break}default:return u}});var Pe=e(57557),ze=e.n(Pe),Ae=e(89734),Ve=e.n(Ae);const Ne=m=>Ve()(m,c=>c.id),it=m=>m.map(c=>{const u=c.links.map(L=>({...L,isDisplayed:!1}));return{...c,links:u}});var _e=e(42982);const ee=[{intlLabel:{id:"global.roles",defaultMessage:"Roles"},to:"/settings/roles",id:"roles",isDisplayed:!1,permissions:N.Z.settings.roles.main},{intlLabel:{id:"global.users"},to:"/settings/users?pageSize=10&page=1&sort=firstname",id:"users",isDisplayed:!1,permissions:N.Z.settings.users.main}];var mt=function(){return window&&window.strapi&&window.strapi.isEE?e(95662).Z:e(40928).Z}();const Xe=[].concat((0,_e.Z)(mt),(0,_e.Z)(ee)),F=[{intlLabel:{id:"Settings.application.title",defaultMessage:"Overview"},to:"/settings/application-infos",id:"000-application-infos",isDisplayed:!1,permissions:[]},{intlLabel:{id:"Settings.webhooks.title",defaultMessage:"Webhooks"},to:"/settings/webhooks",id:"webhooks",isDisplayed:!1,permissions:N.Z.settings.webhooks.main},{intlLabel:{id:"Settings.apiTokens.title",defaultMessage:"API Tokens"},to:"/settings/api-tokens?sort=name:ASC",id:"api-tokens",isDisplayed:!1,permissions:N.Z.settings["api-tokens"].main},{intlLabel:{id:"Settings.transferTokens.title",defaultMessage:"Transfer Tokens"},to:"/settings/transfer-tokens?sort=name:ASC",id:"transfer-tokens",isDisplayed:!1,permissions:N.Z.settings["transfer-tokens"].main}];var Ce=function(){return window&&window.strapi&&window.strapi.isEE?e(8353).Z:e(88506).Z}();const Fe=[].concat((0,_e.Z)(F),(0,_e.Z)(Ce)),lt=(m,{settings:c,shouldUpdateStrapi:u})=>{const L=c.global.links,b=Ne([...L,...Fe]).map(te=>({...te,hasNotification:te.id==="000-application-infos"&&u})),W=Object.values(ze()(c,"global")),K=[{...c.global,links:b},{id:"permissions",intlLabel:{id:"Settings.permissions",defaultMessage:"Administration Panel"},links:Xe},...W];return{...m,menu:it(K)}},vt=(m=!1)=>{const{allPermissions:c}=(0,p.useRBACProvider)(),{shouldUpdateStrapi:u}=(0,p.useAppInfos)(),{settings:L}=(0,p.useStrapiApp)(),[{isLoading:b,menu:W},K]=(0,t.useReducer)(Ye,me,()=>lt(me,{settings:L,shouldUpdateStrapi:u}));return(0,t.useEffect)(()=>{m||(async()=>{const ge=async(et,nt)=>({hasPermission:await(0,p.hasPermissions)(c,et),path:nt}),Le=(et=>et.reduce((nt,yt,Ot)=>{const bt=Tt=>Tt.map((Qe,Se)=>ge(Tt[Se].permissions,`${Ot}.links.${Se}`));return[...nt,...bt(yt.links)]},[]))(W),qe=await Promise.all(Le);K({type:"CHECK_PERMISSIONS_SUCCEEDED",data:qe})})()},[c,m]),{isLoading:b,menu:W}};var St=e(38683);const Mt={fieldsToPick:[],formErrors:{},initialData:{},isLoading:!0,modifiedData:{},showHeaderButtonLoader:!1,showHeaderLoader:!0},Zt=(m,c)=>(0,g.default)(m,u=>{switch(c.type){case"GET_DATA_SUCCEEDED":{u.isLoading=!1,u.showHeaderLoader=!1,u.initialData=(0,x.pick)(c.data,m.fieldsToPick),u.modifiedData=(0,x.pick)(c.data,m.fieldsToPick);break}case"ON_CANCEL":{u.modifiedData=m.initialData,u.formErrors={};break}case"ON_CHANGE":{c.inputType==="password"&&!c.value?(0,x.unset)(u.modifiedData,c.keys.split(".")):c.keys.includes("username")&&!c.value?(0,x.set)(u.modifiedData,c.keys.split("."),null):(0,x.set)(u.modifiedData,c.keys.split("."),c.value);break}case"ON_SUBMIT":{u.showHeaderButtonLoader=!0;break}case"ON_SUBMIT_SUCCEEDED":{u.initialData=(0,x.pick)(c.data,m.fieldsToPick),u.modifiedData=(0,x.pick)(c.data,m.fieldsToPick),u.showHeaderButtonLoader=!1;break}case"SET_ERRORS":{u.formErrors=c.errors,u.showHeaderButtonLoader=!1;break}default:return u}}),Wt=(m,c)=>({...m,fieldsToPick:c});var Nt=e(25108);const Kt=(m,c,u,L)=>{const[{formErrors:b,initialData:W,isLoading:K,modifiedData:te,showHeaderButtonLoader:ge,showHeaderLoader:Ue},Le]=(0,t.useReducer)(Zt,Mt,()=>Wt(Mt,L)),qe=(0,p.useNotification)(),{lockApp:et,unlockApp:nt}=(0,p.useOverlayBlocker)();return(0,t.useEffect)(()=>{m&&(async()=>{try{const{data:Se}=await(0,p.request)(m,{method:"GET"});Le({type:"GET_DATA_SUCCEEDED",data:Se,fieldsToPick:L})}catch(Se){Nt.error(Se.response),qe({type:"warning",message:{id:"notification.error"}})}})()},[m]),[{formErrors:b,initialData:W,isLoading:K,modifiedData:te,showHeaderButtonLoader:ge,showHeaderLoader:Ue},Le,{handleCancel:()=>{Le({type:"ON_CANCEL"})},handleChange:({target:{name:Qe,value:Se,type:tt}})=>{Le({type:"ON_CHANGE",inputType:tt,keys:Qe,value:Se})},handleSubmit:async Qe=>{Qe.preventDefault();const Se=await(0,St.R6)(te,c);if(Le({type:"SET_ERRORS",errors:Se||{}}),!Se)try{et(),Le({type:"ON_SUBMIT"});const tt=(0,x.omit)(te,["confirmPassword","registrationToken"]);tt.roles&&(tt.roles=tt.roles.map(It=>It.id));const{data:xe}=await(0,p.request)(m,{method:"PUT",body:tt});u(xe),Le({type:"ON_SUBMIT_SUCCEEDED",data:xe}),qe({type:"success",message:{id:"notification.success.saved"}})}catch(tt){const xe=(0,x.get)(tt,"response.payload",{data:{}});(0,x.has)(xe,"data")&&typeof xe.data=="string"?qe({type:"warning",message:xe.data}):qe({type:"warning",message:xe.message});const It=(0,St.Iz)(xe);Le({type:"SET_ERRORS",errors:It})}finally{nt()}},setField:(Qe,Se)=>{Le({type:"ON_CHANGE",keys:Qe,value:Se})}}]},Jt=()=>(0,t.useContext)(l.$l),Gt=!JSON.parse(localStorage.getItem("STRAPI_UPDATE_NOTIF")),_t=()=>{const{latestStrapiReleaseTag:m,shouldUpdateStrapi:c}=useAppInfos(),u=useNotification();return useEffect(()=>{c&&Gt&&u({type:"info",message:{id:"notification.version.update.message"},link:{url:`https://github.com/strapi/strapi/releases/tag/${m}`,label:{id:"global.see-more"}},blockTransition:!0,onClose:()=>localStorage.setItem("STRAPI_UPDATE_NOTIF",!0)})},[m,c,u]),null},Ts=null,Dt=()=>(0,t.useContext)(l.Rj),Ht=(m,c,u)=>{const[L,b]=(0,t.useState)(!1),W=(0,p.useNotification)(),{post:K}=(0,p.useFetchClient)();return{regenerateData:async()=>{try{const{data:{data:{accessKey:ge}}}=await K(`${m}${c}/regenerate`);b(!1),u(ge)}catch(ge){b(!1),W({type:"warning",message:(0,x.get)(ge,"response.data.message","notification.error")})}},isLoadingConfirmation:L}}},40928:(k,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t=[]},88506:(k,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t=[]},36206:(k,f,e)=>{"use strict";e.d(f,{sg:()=>A,bU:()=>Z,ZP:()=>j});var t=e(67294),l=e(27821),o=e(45697),E=e.n(o),p=e(41580),g=e(11047),y=e(97132),O=e(17205),w=e(50592);const U=()=>{const{changeLocale:T,localeNames:z}=(0,w.Z)(),{locale:de}=(0,y.useIntl)();return t.createElement(O.O,{label:z[de]},Object.keys(z).map(G=>t.createElement(O.s,{onClick:()=>T(G),key:G},z[G])))},v=(0,l.default)(p.x)`
  margin: 0 auto;
  width: 552px;
`,A=(0,l.default)(g.k)`
  flex-direction: column;
`,Z=({children:T})=>t.createElement(v,{shadow:"tableShadow",hasRadius:!0,paddingTop:9,paddingBottom:9,paddingLeft:10,paddingRight:10,background:"neutral0",justifyContent:"center"},T);Z.propTypes={children:E().node.isRequired};const C=({children:T})=>t.createElement("div",null,t.createElement(g.k,{as:"header",justifyContent:"flex-end"},t.createElement(p.x,{paddingTop:6,paddingRight:8},t.createElement(U,null))),t.createElement(p.x,{paddingTop:2,paddingBottom:11},T));C.propTypes={children:E().node.isRequired};const j=C},77981:(k,f,e)=>{"use strict";e.d(f,{Z:()=>l});const l=[]},68070:(k,f,e)=>{"use strict";e.d(f,{Z:()=>E});var t=e(27821),l=e(25752);const E=(0,t.default)(l.E)`
  svg {
    height: 1rem;
    width: 1rem;
    path {
      fill: ${({theme:p})=>p.colors.neutral600};
    }
  }
`},29773:(k,f,e)=>{"use strict";e.d(f,{Z:()=>ke});var t=e(67294),l=e(68547),o=e.n(l),E=e(94123),p=e(8934),g=e(41580),y=e(7681),O=e(185),w=e(11047),q=e(29728),U=e(16364),v=e(36213),A=e(75515),Z=e(45697),C=e.n(Z),j=e(97132),T=e(27821),z=e(80831),de=e(36206),G=e(79690),je=e(68070);const P=(0,T.default)(U.o)`
  ::-ms-reveal {
    display: none;
  }
`,re=({onSubmit:Oe,schema:Te,children:a})=>{const[S,H]=(0,t.useState)(!1),{formatMessage:V}=(0,j.useIntl)();return t.createElement(O.o,null,t.createElement(de.bU,null,t.createElement(z.Formik,{enableReinitialize:!0,initialValues:{email:"",password:"",rememberMe:!1},onSubmit:Oe,validationSchema:Te,validateOnChange:!1},({values:ce,errors:fe,handleChange:X})=>t.createElement(l.Form,{noValidate:!0},t.createElement(de.sg,null,t.createElement(G.Z,null),t.createElement(g.x,{paddingTop:6,paddingBottom:1},t.createElement(A.Z,{variant:"alpha",as:"h1"},V({id:"Auth.form.welcome.title",defaultMessage:"Welcome!"}))),t.createElement(g.x,{paddingBottom:7},t.createElement(A.Z,{variant:"epsilon",textColor:"neutral600"},V({id:"Auth.form.welcome.subtitle",defaultMessage:"Log in to your Strapi account"}))),fe.errorMessage&&t.createElement(A.Z,{id:"global-form-error",role:"alert",tabIndex:-1,textColor:"danger600"},fe.errorMessage)),t.createElement(y.K,{spacing:6},t.createElement(U.o,{error:fe.email?V({id:fe.email,defaultMessage:"This value is required."}):"",value:ce.email,onChange:X,label:V({id:"Auth.form.email.label",defaultMessage:"Email"}),placeholder:V({id:"Auth.form.email.placeholder",defaultMessage:"kai@doe.com"}),name:"email",required:!0}),t.createElement(P,{error:fe.password?V({id:fe.password,defaultMessage:"This value is required."}):"",onChange:X,value:ce.password,label:V({id:"global.password",defaultMessage:"Password"}),name:"password",type:S?"text":"password",endAction:t.createElement(je.Z,{onClick:N=>{N.stopPropagation(),H(We=>!We)},label:V(S?{id:"Auth.form.password.show-password",defaultMessage:"Show password"}:{id:"Auth.form.password.hide-password",defaultMessage:"Hide password"})},S?t.createElement(p.default,null):t.createElement(E.default,null)),required:!0}),t.createElement(v.X,{onValueChange:N=>{X({target:{value:N,name:"rememberMe"}})},value:ce.rememberMe,"aria-label":"rememberMe",name:"rememberMe"},V({id:"Auth.form.rememberMe.label",defaultMessage:"Remember me"})),t.createElement(q.z,{fullWidth:!0,type:"submit"},V({id:"Auth.form.button.login",defaultMessage:"Login"}))))),a),t.createElement(w.k,{justifyContent:"center"},t.createElement(g.x,{paddingTop:4},t.createElement(l.Link,{to:"/auth/forgot-password"},V({id:"Auth.link.forgot-password",defaultMessage:"Forgot your password?"})))))};re.defaultProps={children:null,onSubmit(){}},re.propTypes={children:C().node,onSubmit:C().func,schema:C().shape({type:C().string.isRequired}).isRequired};const ke=re},73347:(k,f,e)=>{"use strict";e.d(f,{Z:()=>y});var t=e(67294),l=e(45697),o=e.n(l),E=e(29773),p=e(36206);const g=O=>t.createElement(p.ZP,null,t.createElement(E.Z,{...O}));g.defaultProps={onSubmit:O=>O.preventDefault()},g.propTypes={onSubmit:o().func};const y=g},23330:(k,f,e)=>{"use strict";e.r(f),e.d(f,{default:()=>v});var t=e(67294),l=e(68547),o=e.n(l),E=e(185),p=e(67838),g=e(49066),y=e(89722),O=e(20550),w=e(37323),q=e(97132);const v=()=>{const{formatMessage:A}=(0,q.useIntl)();return(0,l.useFocusWhenNavigate)(),t.createElement(E.o,{labelledBy:"title"},t.createElement(p.T,{id:"title",title:A({id:"content-manager.pageNotFound",defaultMessage:"Page not found"})}),t.createElement(g.D,null,t.createElement(y.x,{action:t.createElement(l.LinkButton,{variant:"secondary",endIcon:t.createElement(w.Z,null),to:"/"},A({id:"app.components.NotFoundPage.back",defaultMessage:"Back to homepage"})),content:A({id:"app.page.not.found",defaultMessage:"Oops! We can't seem to find the page you're looging for..."}),hasRadius:!0,icon:t.createElement(O.default,{width:"10rem"}),shadow:"tableShadow"})))}},69623:(k,f,e)=>{"use strict";e.d(f,{Z:()=>t});const t={}},27858:(k,f,e)=>{"use strict";e.d(f,{Z:()=>l});const l=({data:o})=>{try{return Object.keys(o).reduce((E,p)=>{const g=o[p][0];return E[p]={id:g,defaultMessage:g},E},{})}catch{return{}}}},38683:(k,f,e)=>{"use strict";e.d(f,{R6:()=>o,ot:()=>U,Iz:()=>v.Z,Pp:()=>ke,IF:()=>re,Qy:()=>Te,WW:()=>T});var t=e(68547);const o=async(a,S)=>{let H=null;try{await S.validate(a,{abortEarly:!1})}catch(V){H=(0,t.getYupInnerErrors)(V)}return H};var E=e(67294),p=e(45697),g=e.n(p),y=e(49656),O=e(25108);const w=({loadComponent:a})=>{const[S,H]=(0,E.useState)(null);return(0,E.useEffect)(()=>{(async()=>{try{const ce=await a();H(()=>ce.default)}catch(ce){O.log(ce)}})()},[a]),S?E.createElement(S,null):E.createElement(t.LoadingIndicatorPage,null)},q=(a,S,H)=>E.createElement(y.Route,{render:()=>E.createElement(w,{loadComponent:a}),key:S,path:S,exact:H||!1});w.propTypes={loadComponent:g().func.isRequired};const U=q;var v=e(27858),A=e(96486);const Z=a=>{const S=get(a,["options","timestamps"]);let H=Array.isArray(S)?S:[];const ce=[...["id","_id"],...H,"publishedAt"],fe=get(a,["attributes"],{});return Object.keys(fe).reduce((X,N)=>(ce.includes(N)||X.push({...fe[N],attributeName:N}),X),[])},C=null,T=a=>a.filter((S,H,V)=>V.findIndex(ce=>ce.key===S.key)===H),z=a=>sortBy(a,S=>S.name),de=null,G=a=>Array.from(new Set(Object.entries(a).reduce((S,H)=>{const V=ce=>ce.reduce((fe,X)=>{let N=fe;return X.actions&&(N=[...N,...X.actions]),typeof X=="object"&&!X.actions&&(N=[...N,...Object.keys(X)]),N},[]);return[...S,...V([...Object.values(H[1].attributes||{}),get(H[1],"contentTypeActions",{})])]},[]))),je=null,re=a=>`/admin/${a}`,ke=(a,S="")=>[a,S].filter(H=>H).join(" "),Oe={bufferToHex(a){return[...new Uint8Array(a)].map(S=>S.toString(16).padStart(2,"0")).join("")},async digestMessage(a){const S=new TextEncoder().encode(a),H=await crypto.subtle.digest("SHA-256",S);return this.bufferToHex(H)}};async function Te(a){if(!a)return null;try{return await Oe.digestMessage(a.email)}catch{return null}}},90594:(k,f,e)=>{"use strict";e.d(f,{p:()=>q});var t=e(67294),l=e(68547),o=e(38683),E=e(18172);const p={data:[],isLoading:!0},y=(U,v)=>(0,E.default)(U,A=>{switch(v.type){case"GET_DATA_SUCCEEDED":{A.data=v.data,A.isLoading=!1;break}case"GET_DATA_ERROR":{A.isLoading=!1;break}default:return A}});var O=e(25108);const q=({ssoEnabled:U})=>{const[v,A]=(0,t.useReducer)(y,p),Z=(0,l.useNotification)();(0,t.useEffect)(()=>{C()},[]);const C=async()=>{try{if(!U){A({type:"GET_DATA_SUCCEEDED",data:[]});return}const j=(0,o.IF)("providers"),T=await(0,l.request)(j,{method:"GET"});A({type:"GET_DATA_SUCCEEDED",data:T})}catch(j){O.error(j),A({type:"GET_DATA_ERROR"}),Z({type:"warning",message:{id:"notification.error"}})}};return v}},95662:(k,f,e)=>{"use strict";e.d(f,{Z:()=>E});var t=e(87751);const E=[...strapi.features.isEnabled(strapi.features.AUDIT_LOGS)?[{intlLabel:{id:"global.auditLogs",defaultMessage:"Audit Logs"},to:"/settings/audit-logs?pageSize=50&page=1&sort=date:DESC",id:"auditLogs",isDisplayed:!1,permissions:t.Z.settings.auditLogs.main}]:[]]},8353:(k,f,e)=>{"use strict";e.d(f,{Z:()=>E});var t=e(87751);const E=[...strapi.features.isEnabled(strapi.features.SSO)?[{intlLabel:{id:"Settings.sso.title",defaultMessage:"Single Sign-On"},to:"/settings/single-sign-on",id:"sso",isDisplayed:!1,permissions:t.Z.settings.sso.main}]:[]]},35499:(k,f,e)=>{"use strict";e.d(f,{Z:()=>U});var t=e(67294),l=e(49656),o=e(97132),E=e(36808),p=e.n(E),g=e(68547),y=e(38683);const w=()=>{const{params:{authResponse:v}}=(0,l.useRouteMatch)("/auth/login/:authResponse"),{formatMessage:A}=(0,o.useIntl)(),{push:Z}=(0,l.useHistory)(),C=(0,t.useRef)(A);let j=(0,t.useCallback)(()=>{Z(`/auth/oops?info=${encodeURIComponent(C.current({id:"Auth.form.button.login.providers.error",defaultMessage:"We cannot connect you through the selected provider."}))}`)},[Z]);const T=(0,t.useCallback)(async()=>{try{const z=p().get("jwtToken");if(g.auth.clearAppStorage(),z){g.auth.setToken(z,!0);const de=(0,y.IF)("users/me"),{data:G}=await(0,g.request)(de,{method:"GET"});g.auth.setUserInfo(G,!0),p().remove("jwtToken"),Z("/auth/login")}}catch{j()}},[Z,j]);return(0,t.useEffect)(()=>{v==="error"&&j(),v==="success"&&T()},[v,T,j]),t.createElement(g.LoadingIndicatorPage,null)},U=[{Component:()=>({default:w}),to:"/auth/login/:authResponse",exact:!0}]},9442:(k,f,e)=>{"use strict";e.d(f,{Z:()=>T});var t=e(67294),l=e(45697),o=e.n(l),E=e(27821),p=e(41580),g=e(11047),y=e(70004),O=e(7681),w=e(75515),q=e(97132),U=e(29773),v=e(90594),A=e(36206),Z=e(51780);const C=(0,E.default)(y.i)`
  flex: 1;
`,j=z=>{const de=strapi.features.isEnabled(strapi.features.SSO),{isLoading:G,data:je}=(0,v.p)({ssoEnabled:de}),{formatMessage:P}=(0,q.useIntl)();return!de||!G&&je.length===0?t.createElement(A.ZP,null,t.createElement(U.Z,{...z})):t.createElement(A.ZP,null,t.createElement(U.Z,{...z},t.createElement(p.x,{paddingTop:7},t.createElement(O.K,{spacing:7},t.createElement(g.k,null,t.createElement(C,null),t.createElement(p.x,{paddingLeft:3,paddingRight:3},t.createElement(w.Z,{variant:"sigma",textColor:"neutral600"},P({id:"Auth.login.sso.divider"}))),t.createElement(C,null)),t.createElement(Z.Z,{providers:je,displayAllProviders:!1})))))};j.defaultProps={onSubmit:z=>z.preventDefault(),requestError:null},j.propTypes={formErrors:o().object.isRequired,modifiedData:o().object.isRequired,onChange:o().func.isRequired,onSubmit:o().func,requestError:o().object};const T=j},51780:(k,f,e)=>{"use strict";e.d(f,{Z:()=>j});var t=e(67294),l=e(45697),o=e.n(l),E=e(11276),p=e(74571),g=e(11047),y=e(75515),O=e(84495),w=e(27821),q=e(97132),U=e(49656);const v=w.default.a`
  width: ${136/16}rem;
  display: flex;
  justify-content: center;
  align-items: center;
  height: ${48/16}rem;
  border: 1px solid ${({theme:T})=>T.colors.neutral150};
  border-radius: ${({theme:T})=>T.borderRadius};
  text-decoration: inherit;
  &:link {
    text-decoration: none;
  }
  color: ${({theme:T})=>T.colors.neutral600};
`,A=(0,w.default)(g.k)`
  & a:not(:first-child):not(:last-child) {
    margin: 0 ${({theme:T})=>T.spaces[2]};
  }
  & a:first-child {
    margin-right: ${({theme:T})=>T.spaces[2]};
  }
  & a:last-child {
    margin-left: ${({theme:T})=>T.spaces[2]};
  }
`,Z=({provider:T})=>t.createElement(O.u,{label:T.displayName},t.createElement(v,{href:`${strapi.backendURL}/admin/connect/${T.uid}`},T.icon?t.createElement("img",{src:T.icon,"aria-hidden":!0,alt:"",height:"32px"}):t.createElement(y.Z,null,T.displayName)));Z.propTypes={provider:o().shape({icon:o().string,displayName:o().string.isRequired,uid:o().string.isRequired}).isRequired};const C=({providers:T,displayAllProviders:z})=>{const{formatMessage:de}=(0,q.useIntl)();return z?t.createElement(E.r,{gap:4},T.map(G=>t.createElement(p.P,{key:G.uid,col:4},t.createElement(Z,{provider:G})))):T.length>2&&!z?t.createElement(E.r,{gap:4},T.slice(0,2).map(G=>t.createElement(p.P,{key:G.uid,col:4},t.createElement(Z,{provider:G}))),t.createElement(p.P,{col:4},t.createElement(O.u,{label:de({id:"global.see-more"})},t.createElement(v,{as:U.Link,to:"/auth/providers"},t.createElement("span",{"aria-hidden":!0},"\u2022\u2022\u2022"))))):t.createElement(A,{justifyContent:"center"},T.map(G=>t.createElement(Z,{key:G.uid,provider:G})))};C.defaultProps={displayAllProviders:!0},C.propTypes={providers:o().arrayOf(o().object).isRequired,displayAllProviders:o().bool};const j=C},98837:(k,f,e)=>{"use strict";e.d(f,{Z:()=>re});var t=e(67294),l=e(49656),o=e(27821),E=e(68547),p=e(70004),g=e(7681),y=e(11047),O=e(41580),w=e(29728),q=e(88655),U=e(75515),v=e(185),A=e(97132),Z=e(90594),C=e(36206),j=e(51780),T=e(79690);const z=(0,o.default)(p.i)`
  flex: 1;
`,G=()=>{const ke=strapi.features.isEnabled(strapi.features.SSO),{push:Oe}=(0,l.useHistory)(),{formatMessage:Te}=(0,A.useIntl)(),{isLoading:a,data:S}=(0,Z.p)({ssoEnabled:ke}),H=()=>{Oe("/auth/login")};return!ke||!a&&S.length===0?t.createElement(l.Redirect,{to:"/auth/login"}):t.createElement(C.ZP,null,t.createElement(v.o,null,t.createElement(C.bU,null,t.createElement(C.sg,null,t.createElement(T.Z,null),t.createElement(O.x,{paddingTop:6,paddingBottom:1},t.createElement(U.Z,{as:"h1",variant:"alpha"},Te({id:"Auth.form.welcome.title"}))),t.createElement(O.x,{paddingBottom:7},t.createElement(U.Z,{variant:"epsilon",textColor:"neutral600"},Te({id:"Auth.login.sso.subtitle"})))),t.createElement(g.K,{spacing:7},a?t.createElement(y.k,{justifyContent:"center"},t.createElement(q.a,null,Te({id:"Auth.login.sso.loading"}))):t.createElement(j.Z,{providers:S}),t.createElement(y.k,null,t.createElement(z,null),t.createElement(O.x,{paddingLeft:3,paddingRight:3},t.createElement(U.Z,{variant:"sigma",textColor:"neutral600"},Te({id:"or"}))),t.createElement(z,null)),t.createElement(w.z,{fullWidth:!0,size:"L",onClick:H},Te({id:"Auth.form.button.login.strapi"})))),t.createElement(y.k,{justifyContent:"center"},t.createElement(O.x,{paddingTop:4},t.createElement(E.Link,{to:"/auth/forgot-password"},t.createElement(U.Z,{variant:"pi"},Te({id:"Auth.link.forgot-password"})))))))};var je=e(42243);const re={...je.Z,providers:{Component:G,endPoint:null,fieldsToDisable:[],fieldsToOmit:[],schema:null,inputsPrefix:""}}},2199:(k,f,e)=>{"use strict";e.d(f,{Z:()=>l});const l={settings:{sso:{main:[{action:"admin::provider-login.read",subject:null}],read:[{action:"admin::provider-login.read",subject:null}],update:[{action:"admin::provider-login.update",subject:null}]}}}},61473:(k,f,e)=>{"use strict";k.exports=e.p+"70674f63fc3904c20de0.svg"}}]);
